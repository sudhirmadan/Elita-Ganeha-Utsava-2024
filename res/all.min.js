/* all.min.js - Animatics skin scripts */
var VER='4.1',DEBUG=false,LOCALE='en-US';
;Texts = {closeWindow:'Close window',checkThisOut:'Found this page',copied:'Copied',slideshow:'Slideshow',copy:'Copy',email:'Email',shareOn:'Share on',today:'today',yesterday:'yesterday',yearsAgo:'{0} years ago',monthsAgo:'{0} months ago',daysAgo:'{0} days ago',inThePast24Hours:'in the past 24 hours',inThePast48Hours:'in the past 48 hours',inThePastNYears:'in the past {0} years',inThePastNMonths:'in the past {0} months',inThePastNDays:'in the past {0} days',close:'Close',cookiePolicyText:'This album is using cookies to remember your preferences. It does not track you, nor does it store personal data.',cookiePolicyAgree:'Got it',gdprComplianceText:'This site is using the following external services that might track your visits anonymously. Disabling tracking will stop their functionality.',allowAll:'Allow all',denyAll:'Deny all',allowSelected:'Allow selected',cookiePolicyLearnMore:'Learn more',restrictedLinkTitle:'Restricted material',restrictedLinkQuestion:'Please verify your age to proceed!',restrictedLinkYes:'I´m over 18',restrictedLinkNo:'I´m below 18',print:'Print',download:'Download',startOver:'Start over',upOneLevel:'Up one level',nextFolder:'Next folder',atLastPageQuestion:'Where to go next?',atLastPage:'At last page'};
/*! modernizr 3.3.1 (Custom Build) | MIT *
 * https://modernizr.com/download/?-animation-audio-backgroundsize-cookies-cssanimations-csspointerevents-csstransforms-csstransitions-fullscreen-hashchange-history-inlinesvg-localstorage-rgba-sessionstorage-svg-touchevents-video-webworkers-domprefixes-prefixes-setclasses-shiv !*/
!function(e,t,n){function r(e,t){return typeof e===t}function o(){var e,t,n,o,a,i,s;for(var c in T)if(T.hasOwnProperty(c)){if(e=[],t=T[c],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=r(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)i=e[a],s=i.split("."),1===s.length?Modernizr[s[0]]=o:(!Modernizr[s[0]]||Modernizr[s[0]]instanceof Boolean||(Modernizr[s[0]]=new Boolean(Modernizr[s[0]])),Modernizr[s[0]][s[1]]=o),y.push((o?"":"no-")+s.join("-"))}}function a(e){var t=x.className,n=Modernizr._config.classPrefix||"";if(S&&(t=t.baseVal),Modernizr._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}Modernizr._config.enableClasses&&(t+=" "+n+e.join(" "+n),S?x.className.baseVal=t:x.className=t)}function i(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):S?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function s(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function c(){var e=t.body;return e||(e=i(S?"svg":"body"),e.fake=!0),e}function l(e,n,r,o){var a,s,l,u,d="modernizr",f=i("div"),p=c();if(parseInt(r,10))for(;r--;)l=i("div"),l.id=o?o[r]:d+(r+1),f.appendChild(l);return a=i("style"),a.type="text/css",a.id="s"+d,(p.fake?p:f).appendChild(a),p.appendChild(f),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),f.id=d,p.fake&&(p.style.background="",p.style.overflow="hidden",u=x.style.overflow,x.style.overflow="hidden",x.appendChild(p)),s=n(f,e),p.fake?(p.parentNode.removeChild(p),x.style.overflow=u,x.offsetHeight):f.parentNode.removeChild(f),!!s}function u(e,t){return!!~(""+e).indexOf(t)}function d(e,t){return function(){return e.apply(t,arguments)}}function f(e,t,n){var o;for(var a in e)if(e[a]in t)return n===!1?e[a]:(o=t[e[a]],r(o,"function")?d(o,n||t):o);return!1}function p(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function m(t,r){var o=t.length;if("CSS"in e&&"supports"in e.CSS){for(;o--;)if(e.CSS.supports(p(t[o]),r))return!0;return!1}if("CSSSupportsRule"in e){for(var a=[];o--;)a.push("("+p(t[o])+":"+r+")");return a=a.join(" or "),l("@supports ("+a+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function v(e,t,o,a){function c(){d&&(delete $.style,delete $.modElem)}if(a=r(a,"undefined")?!1:a,!r(o,"undefined")){var l=m(e,o);if(!r(l,"undefined"))return l}for(var d,f,p,v,h,g=["modernizr","tspan","samp"];!$.style&&g.length;)d=!0,$.modElem=i(g.shift()),$.style=$.modElem.style;for(p=e.length,f=0;p>f;f++)if(v=e[f],h=$.style[v],u(v,"-")&&(v=s(v)),$.style[v]!==n){if(a||r(o,"undefined"))return c(),"pfx"==t?v:!0;try{$.style[v]=o}catch(y){}if($.style[v]!=h)return c(),"pfx"==t?v:!0}return c(),!1}function h(e,t,n,o,a){var i=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+k.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?v(s,t,o,a):(s=(e+" "+E.join(i+" ")+i).split(" "),f(s,t,n))}function g(e,t,r){return h(e,n,n,t,r)}var y=[],T=[],b={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){T.push({name:e,fn:t,options:n})},addAsyncTest:function(e){T.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=b,Modernizr=new Modernizr,Modernizr.addTest("cookies",function(){try{t.cookie="cookietest=1";var e=-1!=t.cookie.indexOf("cookietest=");return t.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(n){return!1}}),Modernizr.addTest("history",function(){var t=navigator.userAgent;return-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone")?e.history&&"pushState"in e.history:!1}),Modernizr.addTest("svg",!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),Modernizr.addTest("sessionstorage",function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}),Modernizr.addTest("webworkers","Worker"in e);var w=b._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];b._prefixes=w;var x=t.documentElement,S="svg"===x.nodeName.toLowerCase();S||!function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=T.elements;return"string"==typeof e?e.split(" "):e}function o(e,t){var n=T.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),T.elements=n+" "+e,l(t)}function a(e){var t=y[e[h]];return t||(t={},g++,e[h]=g,y[g]=t),t}function i(e,n,r){if(n||(n=t),d)return n.createElement(e);r||(r=a(n));var o;return o=r.cache[e]?r.cache[e].cloneNode():v.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),!o.canHaveChildren||m.test(e)||o.tagUrn?o:r.frag.appendChild(o)}function s(e,n){if(e||(e=t),d)return e.createDocumentFragment();n=n||a(e);for(var o=n.frag.cloneNode(),i=0,s=r(),c=s.length;c>i;i++)o.createElement(s[i]);return o}function c(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return T.shivMethods?i(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(T,t.frag)}function l(e){e||(e=t);var r=a(e);return!T.shivCSS||u||r.hasCSS||(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),d||c(e,r),e}var u,d,f="3.7.3",p=e.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,v=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,h="_html5shiv",g=0,y={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,d=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){u=!0,d=!0}}();var T={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:f,shivCSS:p.shivCSS!==!1,supportsUnknownElements:d,shivMethods:p.shivMethods!==!1,type:"default",shivDocument:l,createElement:i,createDocumentFragment:s,addElements:o};e.html5=T,l(t),"object"==typeof module&&module.exports&&(module.exports=T)}("undefined"!=typeof e?e:this,t);var C="Moz O ms Webkit",E=b._config.usePrefixes?C.toLowerCase().split(" "):[];b._domPrefixes=E,Modernizr.addTest("audio",function(){var e=i("audio"),t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t),t.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,""),t.opus=e.canPlayType('audio/ogg; codecs="opus"')||e.canPlayType('audio/webm; codecs="opus"').replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(n){}return t}),Modernizr.addTest("video",function(){var e=i("video"),t=!1;try{(t=!!e.canPlayType)&&(t=new Boolean(t),t.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),t.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(n){}return t}),Modernizr.addTest("webanimations","animate"in i("div")),Modernizr.addTest("csspointerevents",function(){var e=i("a").style;return e.cssText="pointer-events:auto","auto"===e.pointerEvents}),Modernizr.addTest("rgba",function(){var e=i("a").style;return e.cssText="background-color:rgba(150,255,150,.5)",(""+e.backgroundColor).indexOf("rgba")>-1}),Modernizr.addTest("inlinesvg",function(){var e=i("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"==("undefined"!=typeof SVGRect&&e.firstChild&&e.firstChild.namespaceURI)});var P=function(){function e(e,t){var o;return e?(t&&"string"!=typeof t||(t=i(t||"div")),e="on"+e,o=e in t,!o&&r&&(t.setAttribute||(t=i("div")),t.setAttribute(e,""),o="function"==typeof t[e],t[e]!==n&&(t[e]=n),t.removeAttribute(e)),o):!1}var r=!("onblur"in t.documentElement);return e}();b.hasEvent=P,Modernizr.addTest("hashchange",function(){return P("hashchange",e)===!1?!1:t.documentMode===n||t.documentMode>7});var k=b._config.usePrefixes?C.split(" "):[];b._cssomPrefixes=k;var _=function(t){var r,o=w.length,a=e.CSSRule;if("undefined"==typeof a)return n;if(!t)return!1;if(t=t.replace(/^@/,""),r=t.replace(/-/g,"_").toUpperCase()+"_RULE",r in a)return"@"+t;for(var i=0;o>i;i++){var s=w[i],c=s.toUpperCase()+"_"+r;if(c in a)return"@-"+s.toLowerCase()+"-"+t}return!1};b.atRule=_;var N=b.testStyles=l;Modernizr.addTest("touchevents",function(){var n;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)n=!0;else{var r=["@media (",w.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");N(r,function(e){n=9===e.offsetTop})}return n});var z={elem:i("modernizr")};Modernizr._q.push(function(){delete z.elem});var $={style:z.elem.style};Modernizr._q.unshift(function(){delete $.style}),b.testAllProps=h;var j=b.prefixed=function(e,t,n){return 0===e.indexOf("@")?_(e):(-1!=e.indexOf("-")&&(e=s(e)),t?h(e,t,n):h(e,"pfx"))};Modernizr.addTest("fullscreen",!(!j("exitFullscreen",t,!1)&&!j("cancelFullScreen",t,!1))),b.testAllProps=g,Modernizr.addTest("cssanimations",g("animationName","a",!0)),Modernizr.addTest("backgroundsize",g("backgroundSize","100%",!0)),Modernizr.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&g("transform","scale(1)",!0)}),Modernizr.addTest("csstransitions",g("transition","all",!0)),Modernizr.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}),o(),a(y),delete b.addTest,delete b.addAsyncTest;for(var A=0;A<Modernizr._q.length;A++)Modernizr._q[A]();e.Modernizr=Modernizr}(window,document);
/**
 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
 * @version v5.2.1
 * @link https://github.com/ten1seven/what-input
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("whatInput",[],t):"object"==typeof exports?exports.whatInput=t():e.whatInput=t()}(this,function(){return function(n){var o={};function i(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}return i.m=n,i.c=o,i.p="",i(0)}([function(e,t){"use strict";e.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var t=document.documentElement,n=null,a="initial",u=a,o=Date.now();try{window.sessionStorage.getItem("what-input")&&(a=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(u=window.sessionStorage.getItem("what-intent"))}catch(e){}var d=["button","input","select","textarea"],i=[],c=[16,17,18,91,93],w=[],p={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch",touchend:"touch"},r=!1,s={x:null,y:null},f={2:"touch",3:"touch",4:"mouse"},l=!1;try{var e=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,e)}catch(e){}var h=function(){var e=!!l&&{passive:!0};window.PointerEvent?(window.addEventListener("pointerdown",m),window.addEventListener("pointermove",y)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",m),window.addEventListener("MSPointerMove",y)):(window.addEventListener("mousedown",m),window.addEventListener("mousemove",y),"ontouchstart"in window&&(window.addEventListener("touchstart",m,e),window.addEventListener("touchend",m))),window.addEventListener(b(),y,e),window.addEventListener("keydown",m),window.addEventListener("keyup",m),window.addEventListener("focusin",g),window.addEventListener("focusout",E)},m=function(e){var t=e.which,n=p[e.type];"pointer"===n&&(n=L(e));var o=!w.length&&-1===c.indexOf(t),i=w.length&&-1!==w.indexOf(t),r="keyboard"===n&&t&&(o||i)||"mouse"===n||"touch"===n;if(x(n)&&(r=!1),r&&a!==n){a=n;try{window.sessionStorage.setItem("what-input",a)}catch(e){}v("input")}if(r&&u!==n){var s=document.activeElement;if(s&&s.nodeName&&-1===d.indexOf(s.nodeName.toLowerCase())||"button"===s.nodeName.toLowerCase()&&!k(s,"form")){u=n;try{window.sessionStorage.setItem("what-intent",u)}catch(e){}v("intent")}}},v=function(e){t.setAttribute("data-what"+e,"input"===e?a:u),S(e)},y=function(e){var t=p[e.type];if("pointer"===t&&(t=L(e)),M(e),!r&&!x(t)&&u!==t){u=t;try{window.sessionStorage.setItem("what-intent",u)}catch(e){}v("intent")}},g=function(e){e.target.nodeName?(n=e.target.nodeName.toLowerCase(),t.setAttribute("data-whatelement",n),e.target.classList&&e.target.classList.length&&t.setAttribute("data-whatclasses",e.target.classList.toString().replace(" ",","))):E()},E=function(){n=null,t.removeAttribute("data-whatelement"),t.removeAttribute("data-whatclasses")},L=function(e){return"number"==typeof e.pointerType?f[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType},x=function(e){var t=Date.now(),n="mouse"===e&&"touch"===a&&t-o<200;return o=t,n},b=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},S=function(e){for(var t=0,n=i.length;t<n;t++)i[t].type===e&&i[t].fn.call(void 0,"input"===e?a:u)},M=function(e){s.x!==e.screenX||s.y!==e.screenY?(r=!1,s.x=e.screenX,s.y=e.screenY):r=!0},k=function(e,t){var n=window.Element.prototype;if(n.matches||(n.matches=n.msMatchesSelector||n.webkitMatchesSelector),n.closest)return e.closest(t);do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null};return"addEventListener"in window&&Array.prototype.indexOf&&(p[b()]="mouse",h(),v("input"),v("intent")),{ask:function(e){return"intent"===e?u:a},element:function(){return n},ignoreKeys:function(e){c=e},specificKeys:function(e){w=e},registerOnChange:function(e,t){i.push({fn:e,type:t||"input"})},unRegisterOnChange:function(e){var t=function(e){for(var t=0,n=i.length;t<n;t++)if(i[t].fn===e)return t}(e);(t||0===t)&&i.splice(t,1)}}}()}])});
//# sourceMappingURL=maps/what-input.min.js.map
window.console=window.console||{log:function(t){}};var log=function(){},UNDEF="undefined",OBJECT="object",FUNCTION="function",STRING="string",NUMBER="number",BOOLEAN="boolean",NOLINK="javascript:void(0)",LOCAL="file:"===document.location.protocol,ONEDAY_S=86400,ONEDAY_MS=864e5,STARS='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="80" height="16" viewBox="0 0 80 16" xml:space="preserve"><path d="M12,10.094l0.938,5.5L8,13l-4.938,2.594L4,10.094L0,6.219l5.531-0.813l2.469-5l2.469,5L16,6.219L12,10.094z"/><path d="M28,10.094l0.938,5.5L24,13l-4.938,2.594l0.938-5.5l-4-3.875l5.531-0.813l2.469-5l2.469,5L32,6.219L28,10.094z"/><path d="M44,10.094l0.938,5.5L40,13l-4.938,2.594l0.938-5.5l-4-3.875l5.531-0.813l2.469-5l2.469,5L48,6.219L44,10.094z"/><path d="M60,10.094l0.938,5.5L56,13l-4.938,2.594l0.938-5.5l-4-3.875l5.531-0.813l2.469-5l2.469,5L64,6.219L60,10.094z"/><path d="M76,10.094l0.938,5.5L72,13l-4.938,2.594l0.938-5.5l-4-3.875l5.531-0.813l2.469-5l2.469,5L80,6.219L76,10.094z"/></svg>';if(DIR_PATH=function(){let t=window.location.pathname,e=document.getElementsByTagName("html")[0].getAttribute("data-level")||0;do{t=t.substring(0,t.lastIndexOf("/"))}while(e--);return t+"/"}(),LOCALSTORAGE=function(){try{return localStorage.setItem("_t",UNDEF),localStorage.removeItem("_t"),!0}catch(t){return!1}}(),HISTORY=function(){let t=navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),VEND=function(){let t=navigator.userAgent;return t.indexOf("Trident")>0||t.indexOf("Edge")>0?"ms":t.indexOf("AppleWebKit")>0?"webkit":t.indexOf("Gecko")>0?"moz":t.indexOf("Presto")>0?"o":t.indexOf("Blink")>0?"webkit":""}(),JAVAFXBROWSER=navigator.userAgent.indexOf("JavaFX/14")>0,BACKFACEBUG=navigator.userAgent.indexOf("Edge")>0&&parseInt(navigator.userAgent.match(/Edge\/(\d+\.\d+)/)[1])<=16,TOUCH=/Trident|Edge/.test(navigator.userAgent)?window.navigator.pointerEnabled?{START:"pointerdown",MOVE:"pointermove",END:"pointerup",CANCEL:"pointercancel"}:{START:"MSPointerDown",MOVE:"MSPointerMove",END:"MSPointerUp",CANCEL:"MSPointerCancel"}:{START:"touchstart",MOVE:"touchmove",END:"touchend",CANCEL:"touchcancel"},TOUCHENABLED=/Trident/.test(navigator.userAgent)?typeof navigator.maxTouchPoints!==UNDEF&&navigator.maxTouchPoints:/Edge/.test(navigator.userAgent)?0==scrollbarWidth():/(Chrome|CriOS)/.test(navigator.userAgent)?/Mobile/.test(navigator.userAgent)||"ontouchstart"in window:"ontouchstart"in window,ISIOSDEVICE=/^iP/.test(navigator.platform)||/^Mac/.test(navigator.platform)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>4,ISSEPARATEHOVER=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,SMALLSCREEN=window.innerWidth<=480||window.innerHeight<=480||window.innerWidth<=640&&window.innerHeight<=640,PIXELRATIO=window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1,ZOOM=window.hasOwnProperty("visualViewport")?window.visualViewport.scale:1,HIDPI=PIXELRATIO>1.9,HASPDFVIEWER=navigator.pdfViewerEnabled,LANGUAGE=navigator.hasOwnProperty("languages")?navigator.languages[0]:navigator.language,WEBP_LOSSY=!1,WEBP_LOSSLESS=!1,checkWebpSupport=function(t,e){let n=new Image;n.onload=function(){e(n.width>0&&n.height>0)},n.onerror=function(){e(!1)},n.src="data:image/webp;base64,"+t},checkWebpSupport("UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",function(t){WEBP_LOSSY=t}),checkWebpSupport("UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",function(t){WEBP_LOSSLESS=t}),typeof DEBUG===UNDEF)var DEBUG=!1;if(typeof REL_PATH===UNDEF)var REL_PATH="";if(typeof PAGE_NAME===UNDEF)var PAGE_NAME="index.html";if(typeof THUMBS_DIR===UNDEF)var THUMBS_DIR="thumbs";if(typeof SLIDES_DIR===UNDEF)var SLIDES_DIR="slides";String.prototype.hasOwnProperty("trim")||(String.wsp=[],String.wsp[9]=!0,String.wsp[10]=!0,String.wsp[11]=!0,String.wsp[12]=!0,String.wsp[13]=!0,String.wsp[32]=!0,String.wsp[133]=!0,String.wsp[160]=!0,String.wsp[5760]=!0,String.wsp[6158]=!0,String.wsp[8192]=!0,String.wsp[8193]=!0,String.wsp[8194]=!0,String.wsp[8195]=!0,String.wsp[8196]=!0,String.wsp[8197]=!0,String.wsp[8198]=!0,String.wsp[8199]=!0,String.wsp[8200]=!0,String.wsp[8201]=!0,String.wsp[8202]=!0,String.wsp[8203]=!0,String.wsp[8232]=!0,String.wsp[8233]=!0,String.wsp[8239]=!0,String.wsp[8287]=!0,String.wsp[12288]=!0,String.prototype.trim=function(){var t=this+"",e=t.length;if(e){var n=String.wsp,r=0;for(--e;e>=0&&n[t.charCodeAt(e)];)--e;for(++e;r<e&&n[t.charCodeAt(r)];)++r;t=t.substring(r,e)}return t}),String.prototype.hasOwnProperty("trunc")||(String.prototype.trunc=function(t){var e=this+"";if(e.length<=t)return e.toString();var n=e.substring(0,t-1),r=n.lastIndexOf(" ");return(r>6&&n.length-r<20?n.substring(0,r):n)+"..."}),String.prototype.hasOwnProperty("startsWith")||(String.prototype.startsWith=function(t){return(this+"").substring(0,t.length)===t}),String.prototype.hasOwnProperty("endsWith")||(String.prototype.endsWith=function(t){return(this+"").substring(this.length-t.length)===t}),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.unCamelCase=function(){return this.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},String.prototype.getExt=function(){var t=this+"",e=t.lastIndexOf(".");return e<=0||e>=t.length-1?"":t.substring(e+1)},String.prototype.stripExt=function(){var t=this+"",e=t.lastIndexOf(".");return e<=0||e>t.length-1?t:t.substring(0,e)},String.prototype.hasExt=function(t){var e=this+"",n=e.lastIndexOf(".");return n>=0&&(e=e.substring(n+1).toLowerCase(),(t+",").indexOf(e+",")>=0)},String.prototype.replaceExt=function(t){var e=this+"",n=e.lastIndexOf(".");return n<=0?e:e.substring(0,n+1)+t},String.prototype.fixExtension=function(){return(this+"").replace(/.gif$/gi,".png").replace(/.tif+$/gi,".jpg")},String.prototype.getDir=function(){var t=(this+"").split("#")[0];return t.substring(0,t.lastIndexOf("/")+1)},String.prototype.getFile=function(){var t=(this+"").split("#")[0];return t.substring(t.lastIndexOf("/")+1)},String.prototype.getRelpath=function(t){var e=this+"",n=e.lastIndexOf("#");for(-1===n?n=e.length-1:n--;n>=0&&("/"!==e[n]||0!=t--);n--);return e.substring(n+1)},String.prototype.fixUrl=function(){for(var t,e,n=this+"";(t=n.indexOf("../"))>0;){if(1===t||-1===(e=n.lastIndexOf("/",t-2)))return n.substring(t+3);n=n.substring(0,e)+n.substring(t+2)}return n},String.prototype.fullUrl=function(){var t=this+"";return t.match(/^(http|ftp|file)/)||(t=window.location.href.getDir()+t),t.fixUrl()},String.prototype.cleanupHTML=function(){for(var t=[[/<(b|h)r\/?>/gi,"\n"],[/\&amp;/g,"&"],[/\&nbsp;/g," "],[/\&lt;/g,"<"],[/\&gt;/g,">"],[/\&(m|n)dash;/g,"-"],[/\&apos;/g,"'"],[/\&quot;/g,'"']],e=this+"",n=t.length-1;n>=0;n--)e=e.replace(t[n][0],t[n][1]);return e.replace},String.prototype.stripHTML=function(t){var e=this+"";return t&&(e=e.cleanupHTML()),e.replace(/<\/?[^>]+>/g," ")},String.prototype.stripQuote=function(){return(this+"").replace(/\"/gi,"&quot;")},String.prototype.appendSep=function(t,e){return(this.length?this+(e||" &middot; "):"")+t},String.prototype.rgb2hex=function(){var t=this+"";if("#"===t.charAt(0)||"transparent"===t)return t;var e,n=t.match(/\d+/g),r="";if(n){for(var o=0;o<n.length&&o<3;++o)r+=((e=parseInt(n[o],10).toString(16)).length<2?"0":"")+e;return"#"+r}return"transparent"},String.prototype.template=function(t){if(typeof t===UNDEF||!this)return this;!isNaN(parseFloat(t))&&isFinite(t)&&(t+="");var e=this+"";if(t.constructor===Array)for(var n=0;n<t.length;++n)e=e.replace(new RegExp("\\{"+n+"\\}","gi"),t[n]);else e=e.replace(/\{0\}/gi,t);return e},String.prototype.getSearchTerms=function(){var t=this+"";if(-1===t.indexOf('"'))return t.split(" ");var e,n=[];do{if((e=t.indexOf('"'))>0&&n.push.apply(n,t.substring(0,e).split(" ")),t=t.substring(e+1),(e=t.indexOf('"'))<0){n.push(t);break}n.push(t.substring(0,e)),t=t.substring(e+1)}while(t.length);return n},String.prototype.objectify=function(){if(!this||!this.length)return this;var t=this+"";"?"!==t.charAt(0)&&"#"!==t.charAt(0)||(t=t.substring(1));for(var e,n={},r=t.split("&"),o=0,i=r.length;o<i;++o)(e=r[o].split("=")).length>1?"img"===e[0]?n.img=e[1]:n[e[0]]=decodeURIComponent(e[1]):n[e[0]]=null;return n},String.prototype.testIn=function(t){return"string"!=typeof t&&(t+=""),new RegExp(this,"i").test(t)},String.prototype.testExactMatch=function(t){if(t.constructor!==Array)return this==t+"";for(var e=0,n=t.length;e<n;++e)if(this==t[e])return!0;return!1},String.prototype.fixjAlbumPaths=function(t,e,n){var r=(this+"").replace(/\%24/g,"$");return t&&(r=r.replace(/\${resPath}/g,t)),e&&(r=r.replace(/\${rootPath}/g,e)),n&&(r=r.replace(/\${relPath}/g,n)),r},String.prototype.testMatch=function(t){if(typeof t===UNDEF)return!1;var e=this.toLowerCase();if(t.constructor!==Array)return e===(t+"").toLowerCase();for(var n=0,r=t.length;n<r;++n)if(e===t[n].toLowerCase())return!0;return!1},String.prototype.searchTerm=function(t,e,n,r){if(typeof t===UNDEF||!this.length)return!1;var o=typeof r!==UNDEF&&r,i=this+"",e=typeof e!==UNDEF&&e,n=typeof n!==UNDEF&&n,a=function(t,n){return e?o?t===n:t===n.toLowerCase():-1!==(" "+t).indexOf(" "+(o?n:n.toLowerCase()))};if(t.constructor===Array&&1===t.length&&(t=t[0]),o||(i=i.toLowerCase()),Array.isArray(t)){var s,l=t.length,c=0;for(s=0;s<l;s++)if(a(i,t[s])){if(!n)return!0;c++}else if(n)return!1;return c===l}return a(i,t)},String.prototype.hashCode=function(){for(var t=0,e=0,n=this.length;e<n;++e)t=(t<<5)-t+this.charCodeAt(e),t&=t;return t},Math.minMax=function(t,e,n){return(e=isNaN(e)?parseFloat(e):e)<t?t:e>n?n:e},Math.getRange=function(t,e){if(e.constructor!==Array)return t>=e?1:0;if(1===e.length)return t>=e[0]?1:0;if(t<e[0])return 0;for(var n=1;n<e.length&&!(t>=e[n-1]&&t<e[n]);n++);return n};var encodeJ=[];encodeJ[33]="%21",encodeJ[35]="%23",encodeJ[36]="%24",encodeJ[38]="%26",encodeJ[39]="%27",encodeJ[40]="%28",encodeJ[41]="%29",encodeJ[43]="%2B",encodeJ[44]="%2C",encodeJ[59]="%3B",encodeJ[60]="%3C",encodeJ[61]="%3D",encodeJ[62]="%3E",encodeJ[63]="%3F",encodeJ[64]="%40",encodeJ[123]="%7B",encodeJ[124]="%7C",encodeJ[125]="%7D",transCodeJ=[],transCodeJ[33]="%21",transCodeJ[39]="%27",transCodeJ[40]="%28",transCodeJ[41]="%29";var isEmpty=function(t){return null==t||0===Object.getOwnPropertyNames(t).length},paramize=function(t){if("number"==typeof t)return""+t;if("string"==typeof t)return t;if("object"==typeof t){for(var e="",n=Object.getOwnPropertyNames(t),r=n.length,o=0;o<r;o++)null!==t[n[o]]&&("img"===n[o]?e+="&img="+t[n[o]]:e+="&"+n[o]+"="+encodeURIComponent(t[n[o]]));if(e.length)return e.substring(1)}return""},allTrue=function(t){if(t&&t.constructor===Array){for(var e=0;e<t.length;++e)if(!t[e])return!1;return!0}return!0===t},removeEmpty=function(t){if(t&&t.constructor===Array){var e,n=new Array;for(e=0;e<t.length;e++)typeof t[e]===STRING&&t[e].length&&n.push(t[e]);return n}return t},getCoords=function(t){return t.touches?1==t.touches.length?{x:t.touches[0].clientX,y:t.touches[0].clientY}:t.changedTouches&&1==t.changedTouches.length?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:null:{x:t.clientX,y:t.clientY}},translate=function(t,e){if(t=t.trim(),typeof Texts!==UNDEF&&Texts.hasOwnProperty(t))return Texts[t];if(typeof e!==UNDEF)return DEBUG&&console&&console.log("Using default translation: "+t+"="+e),e;DEBUG&&console&&console.log("Missing translation: "+t);var n=t.replace(/([A-Z])/g," $1").toLowerCase();return n[0]=n.charAt(0).toUpperCase(),n},getKeys=function(t,e){var n,r={},o=t.split(","),i=o.length;for(n=0;n<i;n++)r[o[n]]=translate(o[n],e[o]);return r},getTranslations=function(t){var e,n={};for(e in t)"object"==typeof t[e]?n[e]=getTranslations(t[e]):n[e]=translate(e,t[e]);return n},readData=function(t,e){var n={};if(t&&t.length&&e){e=e.split(",");for(var r,o=0;o<e.length;o++)null!=(r=t.data(e[o]))&&(n[e[o]]=r)}return n},niceByte=function(t){var e=parseFloat(t),n=Math.abs(e),r=function(t){return t<10?t.toFixed(1):Math.round(t)};return n<1e-4?"0":n<.1?e.toFixed(3):n<1?e.toFixed(2):n<1e3?r(e):n<1e6?r(e/1e3)+"k":n<1e9?r(e/1e6)+"M":n<1e12?r(e/1e9)+"G":e.toExponential()},niceTime=function(t){var e=parseFloat(t),n=Math.abs(e),r=function(t){return t<10?t.toFixed(1):Math.round(t)};return n<1e-6?"0s":n<.001?r(1e6*e)+"&#181;s":n<1?r(1e3*e)+"ms":n<60?r(e)+"s":Math.floor(n/60)+"m"+Math.round(n%60)+"s"},toCurrency=function(t,e){return parseFloat(t).toLocaleString(LANGUAGE,{style:"currency",currency:e||"EUR"})},getRelativeDate=function(t){if(!t)return translate("today");if(1===t)return translate("yesterday");var e,n;return t>=730?(e=translate("yearsAgo"),n=Math.round(t/365)):t>=60?(e=translate("monthsAgo"),n=Math.round(t/30.5)):(e=translate("daysAgo"),n=t),e.replace("{0}",n)},getTimespan=function(t){if(!t)return translate("inThePast24Hours");if(t<2)return translate("inThePast48Hours");var e,n;return t>=730?(e=translate("inThePastNYears"),n=Math.round(t/365)):t>=60?(e=translate("inThePastNMonths"),n=Math.round(t/30.42)):(e=translate("inThePastNDays"),n=Math.round(t)),e.replace("{0}",n)},getFractionValue=function(t){var e=t.match(/^([\d\.]+)\/([\d\.]+)/);return e&&e.length>1&&0!==e[2]?e[1]/e[2]:t},getExposure=function(t){return t=t.includes("/")?getFractionValue(t):parseFloat(t)},getRelativePath=function(t,e){if(typeof e===UNDEF||typeof t===UNDEF)return"";if("./"===t&&(t=REL_PATH),"./"===e&&(e=REL_PATH),e.endsWith("/")||(e+="/"),t.endsWith("/")||(t+="/"),t===e)return"";if("/"===t)return e;var n=t.split("/").filter(Boolean);if("/"===e)return getParentFolderLink(n.length);for(var r=e.split("/").filter(Boolean);n.length&&r.length&&n[0]===r[0];)n.shift(),r.shift();return getParentFolderLink(n.length)+(r.length?r.join("/")+"/":"")},getParentFolderLink=function(t){return t>0?"../../../../../../../../../../../../../../../../../../../../".substring(0,3*t):""},encodeAsJava=function(t){var e="";for(t=/^(https?:|file:)?\/\//i.test(t)?encodeURI(t):encodeURIComponent(t),i=0;i<t.length;i++)e+=encodeJ[t.charCodeAt(i)]||t.charAt(i);return e},transcodeJavaURIComponent=function(t){var e="";for(i=0;i<t.length;i++)e+=transCodeJ[t.charCodeAt(i)]||t.charAt(i);return e},extend=function(){if(arguments.length<2)return arguments[0]||{};for(var t=arguments[0],e=1;e<arguments.length;e++)for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(t[n]=arguments[e][n]);return t},passDefaults=function(t,e,n){if(t&&e)if(typeof n!==UNDEF){n=n.split(",");for(var r=0;r<n.length;r++)t.hasOwnProperty(n[r])&&(e[n[r]]=t[n[r]])}else for(var o in t)e[o]=t[o]},readUserPrefs=function(t,e){if(typeof e!==UNDEF&&t){e=e.split(",");for(var n,r=0;r<e.length;r++)null!==(n=$.cookie(e[r]))&&(t[e[r]]=n)}},savePrefs=function(t,e,n){var r,o,i={};for(r in e)o=e[r],t.hasOwnProperty(o)&&(i[o]=t[o]);i&&$.cookie(typeof n===UNDEF?"lb_pref":n,i)},loadPrefs=function(t,e,n){var r,o,i=$.cookie(typeof n===UNDEF?"lb_pref":n);if(i)for(r in e)o=e[r],i.hasOwnProperty(o)&&(t[o]="true"===i[o]||"false"===i[o]?!!i[o]:i[o])},addParam=function(t,e,n){if(HISTORY){var r=window.location.hash;r&&(history.state?(typeof history.state===STRING&&(history.state=history.state.objectify()),history.state.hasOwnProperty("img")&&(history.state.img=encodeURIComponent(history.state.img)),e=extend(history.state,e)):("#"===r.charAt(0)&&(r=r.substring(1)),e=extend(r.objectify(),e))),(r="#"+paramize(e))!==window.location.hash&&history.pushState(e,typeof n===UNDEF?"":n,r.length>1?r:t||"index.html")}},setParam=function(t,e,n){if(HISTORY){var r="#"+paramize(e);r!==window.location.hash&&history.pushState(e,typeof n===UNDEF?"":n,r.length>1?r:t||"index.html")}},removeParam=function(t,e,n){if(HISTORY){var r,o=window.location.hash;o&&(typeof e===UNDEF?(o="",history.pushState("","",t||"index.html")):("#"===o.charAt(0)&&(o=o.substring(1)),(r=o.objectify()).hasOwnProperty(e)&&(delete r[e],o="#"+paramize(r)),history.pushState(r,typeof n===UNDEF?"":n,o.length>1?o:t||"index.html")))}},readParam=function(){if(HISTORY){if(history.state)return typeof history.state===STRING&&(history.state=history.state.objectify()),history.state.hasOwnProperty("img")&&(history.state.img=encodeURIComponent(history.state.img)),history.state;var t=window.location.hash;return"#"===t.charAt(0)&&(t=t.substring(1)),t.objectify()}return null},removeSearch=function(t){HISTORY&&history.replaceState(history.state,typeof t===UNDEF?"":t,window.location.href.replace(window.location.search,""))},restoreScrollPosition=function(){if(LOCALSTORAGE){var t=$.cookie("last-touch"),e=(new Date).valueOf(),n=$.cookie(REL_PATH+PAGE_NAME+":scroll-pos"),r=function(t,e){$("html").height()>=t?$("html").scrollTop(t):e&&setTimeout(r,1e3,t,e-1)};t&&e-t<2e3&&n&&r(n,6)}},saveScrollPosition=function(){if(LOCALSTORAGE){var t=$("html").scrollTop();$.cookie(REL_PATH+PAGE_NAME+":scroll-pos",t||null,300),$.cookie("last-touch",(new Date).valueOf(),300)}},pushAll=function(t,e){if(t instanceof Array)if(e instanceof Array)for(var n=0,r=e.length;n<r;n++)t.push(e[n]);else t.push(e)},pushNew=function(t,e){if(t instanceof Array)if(e instanceof Array)for(var n=0,r=e.length;n<r;n++)t.includes(e[n])||t.push(e[n]);else t.includes(e)||t.push(e)},videoDurationMs=function(t){var e=t.match(/(\d{2})\:(\d{2})\:(\d{2})(\.(\d+))?/);return e?(e[5]?parseInt(e[5]):0)+1e3*parseInt(e[3])+6e4*parseInt(e[2])+36e5*parseInt(e[1]):null},guessDimensions=function(t){var e,n,r;return t?(e=t.match(/<\w+\s[^>]*\swidth="([\d\.]+)"/i)||t.match(/<\w+\s[^>]*\sstyle=".*width:\s?([\d\.]+)(r?em|px)"/i),n=t.match(/<\w+\s[^>]*\sheight="([\d\.]+)"/i)||t.match(/<\w+\s[^>]*\sstyle=".*height:\s?([\d\.]+)(r?em|px)"/i),e?(r[0]=parseFloat(e[1]),e.length>2&&"px"!==e[2]&&(r[0]*=16),n?(r[1]=parseFloat(n[1]),n.length>2&&"px"!==n[2]&&(r[1]*=16)):r[1]=.75*r[0],r):null):null},currencyToHtml={USD:"US$",EUR:"&euro;",GBP:"GB&pound;",JPY:"&yen;",HUF:"Ft",CAD:"CAN$",AUD:"AU$",RUB:"&#8381;"},codeToCurrency=function(t){return currencyToHtml.hasOwnProperty(t)?currencyToHtml[t]:t},currencyToHtmlShort={USD:"$",EUR:"&euro;",GBP:"&pound;",JPY:"&yen;",HUF:"Ft",CAD:"$",AUD:"$",RUB:"&#8381;"},codeToShortCurrency=function(t){return currencyToHtmlShort.hasOwnProperty(t)?currencyToHtmlShort[t]:t},printImage=function(t,e,n){if(t){var r=window.open("about:blank","print","location=no,status=no,titlebar=no");r.document.open(),r.document.write('<!DOCTYPE html>\n<html>\n<head>\n<meta charset="utf-8">\n<title>'+(e||"Print")+'</title>\n<script>printOut=function(){window.print();window.close();}<\/script>\n<style>body{margin:0;padding:0;text-align:center;overflow:hidden;}\nimg{display:block;width:100%;height:auto;vertical-align:top;}</style>\n</head>\n<body onLoad="setTimeout(printOut,100)"><img src="'+t+'">'+(n||"")+"</body>\n</html>"),r.document.close()}},getFileSize=function(t,e,n){var r=new XMLHttpRequest;r.open("HEAD",t,!0),r.onreadystatechange=function(){this.readyState==this.DONE&&200===this.status&&typeof e===FUNCTION&&(typeof n!==UNDEF?e.call(this,[this.getResponseHeader("content-length")],n):e.call(this,[this.getResponseHeader("content-length")]))},r.send()},moveInView=function(t){var e=$(t);if(e.length&&e.is(":visible")){var n=e.offset().top,r=navigator.userAgent.match(/(iPod|iPhone|iPad)/)?$("body"):$("html"),o=r.scrollTop();(n<o||n>o+window.outerHeight-80)&&(navigator.userAgent.match(/(iPod|iPhone|iPad)/)?window.scrollTo(0,n):r.animate({scrollTop:n},500,function(){r.clearQueue()}))}},xDecrypt=function(t){if("string"!=typeof t)return"";var e,n,r,o=[147,163,87,254,153,4,198,23],i=t.length,a=5*Math.ceil(i/8),s=new Array(a),l="",c=0;for(e=0;e<a;e++)s[e]=0;for(e=0;e<i;e++)(r=t.charCodeAt(e)-48)>9&&(r-=7),r<<=11-c%8,(n=c>>3)<a&&(s[n]|=r>>8,++n<a&&(s[n]|=255&r)),c+=5;for(e=0;e<a;e++)s[e]^=o[e%8];for(a=s[0]|s[1]<<8,r=0,e=4;e<a;e++)l+=String.fromCharCode(s[e]),r+=s[e];return r!=(255&s[2]|s[3]<<8)&&(l=""),l},getStyle=function(t,n){if(t instanceof Element){if(document.defaultView&&document.defaultView.getComputedStyle)return document.defaultView.getComputedStyle(t,"").getPropertyValue(n.unCamelCase());if(t.currentStyle)return e.currentStyle[n]}return null},scrollbarWidth=function(){var t=document.createElement("div"),e=0;return t.style.cssText="width:100px;height:100px;overflow:scroll !important;position:absolute;top:-9999px",document.body&&(document.body.appendChild(t),e=t.offsetWidth-t.clientWidth,document.body.removeChild(t)),e},addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},pageZoomed=function(){return!!window.hasOwnProperty("visualViewport")&&window.visualViewport.scale>ZOOM},playVideo=function(t,e){if(t&&"VIDEO"===t.nodeName)if(t.paused){let n=t.play();typeof n!==UNDEF&&n.then(()=>{addClass(t,"playing"),typeof e===FUNCTION&&e.call(null)}).catch(n=>{"NotAllowedError"===n.name?(t.muted=!0,t.play().then(()=>{console.log("Falling back to muted autoplay! Unmute the video manually!"),addClass(t,"playing"),typeof e===FUNCTION&&e.call(null)}).catch(t=>{console.log("Autoplay rejected. Try starting the video manually!")})):console.log("Video format not supported!")})}else typeof e===FUNCTION&&e.call(null)},fullscreenChanged=0,fullscreenChangedSince=function(){return new Date-fullscreenChanged},hasFullscreen=function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled},isFullscreen=function(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)},onFullscreenChange=function(t){let e=function(e){t(isFullscreen())};typeof t===FUNCTION&&["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(t=>document.addEventListener(t,e,!1))},requestFullscreen=function(t,e){if(hasFullscreen())if(isFullscreen())typeof t===FUNCTION&&t.call();else{let n=document.documentElement;n.requestFullscreen?n.requestFullscreen().then(t||(()=>{})).catch(t=>{typeof e===FUNCTION?e.call():console.log("Full-screen error: "+t.message+" ("+t.name+")")}):n.mozRequestFullscreen?(n.mozRequestFullscreen(),t.call()):n.webkitRequestFullscreen?(n.webkitRequestFullscreen(),t.call()):n.msRequestFullscreen&&(n.msRequestFullscreen(),t.call()),fullscreenChanged=new Date}},exitFullscreen=function(t,e){if(hasFullscreen())if(isFullscreen()){if(typeof t!==FUNCTION);if(typeof e!==FUNCTION);document.exitFullscreen?document.exitFullscreen().then(t).catch(e):document.mozExitFullscreen?document.mozExitFullscreen().then(t).catch(e):document.webkitExitFullscreen?(document.webkitExitFullscreen(),t.call()):document.msExitFullscreen&&document.msExitFullscreen().then(t).catch(e),fullscreenChanged=new Date}else typeof t===FUNCTION&&t.call()},orientationChanged=function(t,e){"change"===t.type?t.target.type.startsWith("landscape")&&!isFullscreen()&&requestFullscreen(e):"orientationchange"===t.type&&t.target.innerWidth>t.target.innerHeight&&!isFullscreen()&&requestFullscreen(e)},goFullscreenOnLandscapeChange=function(){(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)&&(typeof screen!==UNDEF&&screen.hasOwnProperty("orientation")?screen.orientation.addEventListener("change",orientationChanged):window.addEventListener("orientationchange",orientationChanged))},wakeLock=null,requestWakeLock=async(t,e)=>{if("wakeLock"in navigator&&"request"in navigator.wakeLock){wakeLock=null;try{wakeLock=await navigator.wakeLock.request("screen"),typeof t===FUNCTION&&t.call()}catch(t){typeof e===FUNCTION&&e.call(err)}}},releaseWakeLock=(t,e)=>{wakeLock&&wakeLock.release().then(()=>{wakeLock=null,typeof t===FUNCTION&&t.call()})},loadExternal=function(t,e){return t.endsWith(PAGE_NAME)&&(t=t.slice(0,-PAGE_NAME.length)),t.endsWith("/")||(t+="/"),$.getJSON(t+"data1.json").done(function(t){typeof e===FUNCTION&&e.call(t)}).fail(function(e,n,r){DEBUG&&console.log('Not an album, or cannot load album database for: "'+t+'".')})},loadGoogleAnalytics=function(t,e,n){if(!LOCAL){var r=xDecrypt(t);if("classic"===e){var o=o||[];o.push(["_setAccount",r]),o.push(["_trackPageview"]),function(t){var e=t.createElement("script");e.async=!0,e.src=("https:"===t.location.protocol?"https://ssl":"http://www")+(n?".stats.g.doubleclick.net/dc.js":".google-analytics.com/ga.js");var r=t.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r)}(document)}else"universal"===e?(!function(t,e,n,r,o,i,a){t.GoogleAnalyticsObject=o,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,i=e.createElement(n),a=e.getElementsByTagName(n)[0],i.async=1,i.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(i,a)}(window,document,"script",0,"ga"),ga("create",r,"auto"),n&&ga("require","displayfeatures"),ga("send","pageview")):gtag("config",r,{send_page_view:!0})}},loadGoogleAPI=function(t,e){if(!LOCAL){!function(t,e,n,r,o,i,a){(i=e.createElement(n)).appendChild(e.createTextNode("{parsetags:'explicit',lang:'${lang}'}")),a=e.getElementsByTagName(n)[0],i.async=1,i.src=r,a.parentNode.insertBefore(i,a)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//apis.google.com/js/platform.js");var n=30,r=function(){typeof gapi===UNDEF?n--?setTimeout(r,200):"console"in window&&console.log("Google Plus API failed to load!"):setTimeout(function(){gapi[e].go()},200)};t&&r()}},loadFacebookAPI=function(t,e){LOCAL||(window.fbAsyncInit=function(){typeof jQuery!==UNDEF&&jQuery(".social-links").trigger("updateLinks")},function(n,r,o){var i,a=n.getElementsByTagName(r)[0];n.getElementById(o)||((i=n.createElement(r)).id=o,i.src="https://connect.facebook.net/"+(e||"en_US")+"/sdk.js#xfbml=1&version=v3.0&appId="+xDecrypt(t),a.parentNode.insertBefore(i,a))}(document,"script","facebook-jssdk"))},loadDisqusAPI=function(t){LOCAL||function(e,n){(n=e.createElement(n)).async=1,n.src="https://"+xDecrypt(t)+".disqus.com/embed.js",n.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(n)}(document,"script")},loadPinterestAPI=function(){LOCAL||function(t,e){(e=t.createElement(e)).async=1,e.src="https://assets.pinterest.com/js/pinit.js",(t.head||t.body).appendChild(e)}(document,"script")},loadAPIs=function(t,e){if(t&&!isEmpty(t))for(var n in t)if(typeof e===UNDEF||e[n])switch(n){case"googleAnalytics":loadGoogleAnalytics(t[n][0],t[n][1],t[n][2]);break;case"googlePlus":loadGoogleAPI(t[n][0],t[n][1]);break;case"facebook":loadFacebookAPI(t[n][0]);break;case"disqus":loadDisqusAPI(t[n][0]);break;case"pinterest":loadPinterestAPI()}},askTrackingConsent=function(t,e){if((e&&!isEmpty(e)||t.cookiePolicy)&&!LOCAL){t=$.extend({},{stay:15,buttonClass:"button"},t),e=e||{};var n=getTranslations({close:"Close",cookiePolicyText:"This album is using cookies to remember your preferences. It does not track you, nor does it store any personal data.",cookiePolicyAgree:"Got it",gdprComplianceText:"This site is using the following external services that might track your visits anonymously. Disabling tracking will stop their functionality.",allowAll:"Allow all",denyAll:"Deny all",allowSelected:"Allow selected",cookiePolicyLearnMore:"Learn more"}),r=$.cookie("trackingConsent"),o=!1,i=!1,a="icon-checkmark",s=function(t){var e=$(t.target),n=e.hasClass(a);e.toggleClass(a,!n),l()},l=function(){var t=$("#trackingConsent span."+a).length>0;$("#allow,#deny").toggle(!t),$("#allowsel").toggle(t)},c=function(t){var n,r=$("#trackingConsent span");return n=$.extend({},$.cookie("trackingConsent"),{cookie:1}),"allow"===this.id?r.each(function(){$(this).addClass(a),n[$(this).attr("id")]=1}):"deny"===this.id?r.each(function(){$(this).removeClass(a),n[$(this).attr("id")]=0}):"allowsel"===this.id&&r.each(function(t){n[$(this).attr("id")]=$(this).hasClass(a)}),$.cookie("trackingConsent",n,31622400),u(),loadAPIs(e,n),!1},u=function(){$("#cookiepolicy").on("transitionend",function(){$(this).remove()}).css({opacity:0,transform:"translate(-50%,120%)"})};if(r?(o=!function(){for(var t in e)if(!r.hasOwnProperty(t))return!1;return!0}(),i=t.hasOwnProperty("cookiePolicy")&&t.cookiePolicy&&!r.hasOwnProperty("cookie")):(o=!isEmpty(e),i=t.hasOwnProperty("cookiePolicy")&&t.cookiePolicy),o||i){var d,p=$("<div>",{id:"cookiepolicy"}).appendTo($("body")),f=$("<div>",{class:"texts"}).appendTo(p),h=$("<div>",{class:"buttons"}).appendTo(p);if(p.append($("<a>",{class:"close icon-close "+t.buttonClass,title:n.close}).on("click",u)),i&&(d=$("<p>",{id:"cookiePolicy",html:n.cookiePolicyText}).appendTo(f),o||h.append($("<a>",{id:"agree",class:"icon-ok "+t.buttonClass,text:" "+n.cookiePolicyAgree}).on("click",c))),o){d=$("<p>",{id:"trackingConsent",html:n.gdprComplianceText}).appendTo(f);for(var g in e)d.append($("<span>",{id:g,class:"checkbox"+(r&&r[g]?" "+a:""),html:"&nbsp;"+g.capitalize()}).on("click",s));h.append($("<a>",{id:"allow",class:"icon-ok "+t.buttonClass,text:" "+n.allowAll}).on("click",c)),h.append($("<a>",{id:"deny",class:"alert icon-close "+t.buttonClass,text:" "+n.denyAll}).on("click",c)),h.append($("<a>",{id:"allowsel",class:"icon-ok "+t.buttonClass,text:" "+n.allowSelected}).on("click",c)),l()}t.cookiePolicyUrl&&f.append(" ").append($("<a>",{text:n.cookiePolicyLearnMore,target:"_blank",href:t.cookiePolicyUrl})),p.css({opacity:1,transform:"translate(-50%,0)"}),setTimeout(u,1e3*t.stay)}else loadAPIs(e,r)}};addClass(document.getElementsByTagName("html")[0],(TOUCHENABLED?"":"no-")+"touch"),addClass(document.getElementsByTagName("html")[0],(HIDPI?"":"no-")+"hidpi"),function(t,e){"use strict";var n,r,o=!1,i=1;log=function(e){var a=function(t){if(Array.isArray(t)){for(var e="",n=0;n<t.length;n++)e+=a(t[n])+", ";return"[ "+e.substring(0,e.length-2)+" ]"}if("object"==typeof t){e="";for(var n in t)e+=n+": "+a(t[n])+",<br>";return"{ "+e+" }"}return isNaN(t)?t:parseInt(t)===t?t:t.toFixed(4)};DEBUG&&!o&&(n||(n=t('<div id="log" style="position:fixed;left:0;top:0;width:200px;bottom:0;overflow:auto;padding:10px;background-color:rgba(0,0,0,0.5);color:#fff;font-size:0.75em;z-index:999999"></div>').hover(function(){o=!0},function(){o=!1}).appendTo("body")),e===r?n.children().first().empty().html(r+" <sup>("+ ++i+")</sup>"):(t('<div style="height:3em;overflow:auto;">'+a(e)+"</div>").prependTo(n),r=e,i=1))},t.fn.logEvents=function(e){if(DEBUG){var n=e||"mousedown mouseup mouseover mouseout mousewheel wheel dragstart click blur focus load unload reset submit change abort cut copy paste selection drag drop orientationchange touchstart touchmove touchend touchcancel pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp gesturestart gesturechange gestureend";return this.each(function(){t(this).on(n,function(t){return typeof t===UNDEF?log("Undefined event"):t.target?"log"!==t.target.id&&log(t.type+' <span style="padding:0 4px;font-size:0.75em;background-color:#000;border-radius:4px;"><b>'+(t.target.nodeName?t.target.nodeName.toLowerCase():"???")+"</b>"+(t.target.id?":"+t.target.id:"")+"</span>"+(t.relatedTarget?' <span style="padding:0 4px;font-size:0.6em;background-color:#800;border-radius:4px;"><b>'+t.relatedTarget.nodeName.toLowerCase()+"</b>"+(t.relatedTarget.id?":"+t.relatedTarget.id:"")+"</span>":"")):log("No event target!"),!0})})}},t.fn.logCss=function(e,n,r){if(DEBUG){r=r||20,n=n||2e3;var o=new Date;return this.each(function(){var i=t(this),a=function(t){var e=new Date-o;log(e+"&nbsp;::&nbsp;"+t+" = "+i.css(t)),e>n&&clearInterval(s)},s=setInterval(function(){if(Array.isArray(e))for(var t=0;t<e.length;t++)a(e[t]);else a(e)},r)})}},t.fn.setFocus=function(t){this.length&&(typeof t!==UNDEF?this[0].focus(t):this[0].focus())},void 0===t.fn.deserialize&&(t.fn.deserialize=function(e){if(!e)return this;var n=t(this),r=e.replace(/\+/g,"%20").split("&");return t.each(r,function(t,e){var r=e.split("="),o=decodeURIComponent(r[0]),i=null!==r[1]?decodeURIComponent(r[1]):"",a=n.find("[name="+o+"]");if(!a.length)return!0;if("radio"===a[0].type||"checkbox"===a[0].type){var s=a.filter('[value="'+i+'"]'),l=s.length;l||"on"!==i?s.prop("checked",l):a.eq(0).prop("checked",!0)}else a.val(i)}),this}),void 0===t.when.all&&(t.when.all=function(e){var n=new t.Deferred;return t.when.apply(t,e).then(function(){n.resolve(Array.prototype.slice.call(arguments))},function(){n.fail(Array.prototype.slice.call(arguments))}),n}),t.fn.getRotate=function(){if(this&&this.length){var t,e=window.getComputedStyle(this[0],null),n=e.getPropertyValue("transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-webkit-transform");if(n&&(t=n.match(/matrix3d\(([^\)]+)\)/))&&t&&t.length>2)return t=t.split(/\s*,/),Math.round(Math.atan2(parseFloat(t[1]),parseFloat(t[0]))*(180/Math.PI))}return 0},t.fn.getMatrix=function(){if(this&&this.length){var t,e=window.getComputedStyle(this[0],null),n=e.getPropertyValue("transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-webkit-transform"),r=[];if(n&&(t=n.match(/matrix(3d)?\(([^\)]+)\)/))&&t&&t.length>2)return(t=t[2].split(/,\s*/)).forEach(function(t){r.push(parseFloat(t))}),r}return[1,0,0,1,0,0]},t.fn.getTranslate=function(){if(this&&this.length){var t=this.getMatrix();return[t[4],t[5]]}return[0,0]},t.fn.getScale=function(){if(this&&this.length){var t=this.getMatrix();return[t[0],t[3]]}return[1,1]},t.fn.backwards=[].reverse,t.fn.waitAllImg=function(e,n,r){if(this&&this.length){var o=t(this),i=[];return function(e){return e.filter("img[src]").not('[src=""]').each(function(){i.push(function(e){var n=new t.Deferred,r=new Image;return r.onload=function(){n.resolve(e)},r.onerror=function(){n.reject(new Error("Image not found: "+e.src))},r.src=e.src,n}(this))}),e.filter("video[src]").not('[src=""]').each(function(){i.push(function(e){var n=new t.Deferred,r=document.createElement("VIDEO");return r.addEventListener("loadedmetadata",function(){n.resolve(e)}),r.addEventListener("error",function(){n.reject(new Error("Video not found: "+e.src))}),r.src=e.src,n}(this))}),t.when.all(i)}(o).then(function(t){typeof n===FUNCTION&&n!==e&&n.call(t)},function(t){typeof r===FUNCTION&&r.call(t)}).then(function(){typeof e===FUNCTION&&e.call(o)}),this}e.call(o)},t.fn.askPermission=function(e){var n=getTranslations({restrictedLinkTitle:"Restricted material",restrictedLinkQuestion:"Please verify your age to proceed!",restrictedLinkYes:"I´m over 18",restrictedLinkNo:"I´m below 18"});return t(this).filter("[href]").each(function(){t(this).data("href",t(this).attr("href")),t(this).attr("href",null),t(this).on("click._lap_",function(e){var r=t.extend({},n,function(t){var e={},n=t.data("ask-permission");return n&&null!==(n=n.split("::"))[0]&&(e.restrictedLinkTitle=n[0],null!==n[1]&&(e.restrictedLinkQuestion=n[1],null!==n[2]&&(e.restrictedLinkYes=n[2],null!==n[3]&&(e.restrictedLinkNo=n[3])))),e}(t(this)));return e.preventDefault(),r.link=t(this).data("href"),t("body").modal(t('<div class="text-center">'+r.restrictedLinkQuestion+"</div>"),[{t:r.restrictedLinkYes,c:"icon-checkmark",h:function(){window.location.href=r.link}},{t:r.restrictedLinkNo,c:"icon-close alert",h:function(){return!0}}],{icon:"warning",class:"small warning",title:r.restrictedLinkTitle}),!1})})}}(jQuery);
!function(e){"use strict";var t=function(){try{return localStorage.setItem("_t",VER),localStorage.removeItem("_t"),!0}catch(e){return!1}}(),r=DIR_PATH||"/";e.cookie=function(e,n,o){var i=function(e){return!!/^(true|yes)$/.test(e)||!/^(false|no)$/.test(e)&&(/^([\d.]+)$/.test(e)?parseFloat(e):e)},a=function(e){if("string"!=typeof e)return e;if("["===e[0]||"{"===e[0]){e=JSON.parse(e);for(var t in e)"string"==typeof t[e]&&(t[e]=i(t[e]));return e}return i(e)};if(arguments.length>1){l=new Date;return null===n?t?localStorage.removeItem(r+e):document.cookie=encodeURIComponent(e)+"=; expires="+l.toGMTString()+"; path="+r+" SameSite=Strict":(n="object"==typeof n?JSON.stringify(n):String(n),l.setTime(l.getTime()+1e3*("number"!=typeof o?3600:o)),t?localStorage.setItem(r+e,n+"; @"+String(l.getTime())):document.cookie=encodeURIComponent(e)+"="+n+"; expires="+l.toGMTString()+"; path="+r+" SameSite=Strict"),n}if(e)if(t){if(s=localStorage.getItem(r+e)){if(1===(s=s.split("; @")).length&&(s=s[0].split("; ")),!(s.length>1))return a(s);var l;if((l=new Date).getTime()<parseInt(s[1],10))return a(s[0]);localStorage.removeItem(r+e)}}else{var s,u=document.cookie.split(/;\s*/);e+="=";for(var c=0;c<u.length;c++)if(u[c].substring(0,e.length)===e)return a(u[c].substring(e.length))}return null}}(jQuery);
!function(t,e){"use strict";var o=["left","center","right"],s=["top","middle","bottom"];t.fn.alignTo=function(n,a){if(a=t.extend({},t.fn.alignTo.defaults,a),"string"==typeof n&&(n=t(n)),n instanceof t&&n.length){var i,p,l,r=e.width(),f=e.height(),u=function(e){for(;e.length&&"BODY"!==e[0].nodeName;){if("fixed"===e.css("position"))return e;e=e.parent()}return t()}(n);if("AREA"===n[0].nodeName&&"RECT"===n[0].shape.toUpperCase()){i=n.parent().offset();var g=n[0].coords.split(",");i.left+=parseInt(g[0],10),i.top+=parseInt(g[1],10),p=parseInt(g[2],10)-parseInt(g[0],10),l=parseInt(g[3],10)-parseInt(g[1],10)}else i=n.offset(),p=n.outerWidth(),l=n.outerHeight();return i.left-=e.scrollLeft(),i.top-=e.scrollTop(),t(this).each(function(){var n=t(this),g=n.find("."+a.nubClass),d=a.pos[2],h=a.pos[3];n.css("maxHeight","none");var c=n.outerWidth(),b=n.outerHeight(),m=Math.round(i.left+a.pos[2]*p/2+(a.pos[2]-1)*a.gap),v=Math.round(i.top+a.pos[3]*l/2+(a.pos[3]-1)*a.gap),x=Math.round(m-a.pos[0]*c/2),z=Math.round(v-a.pos[1]*b/2);(z<0||z+b>f)&&(1!==a.pos[2]?z=2*z+b>f?f-b:0:0===a.pos[3]?f>2*i.top+l&&(z=i.top+l+a.gap,h=2):2===a.pos[3]&&f<2*i.top+l&&(z=Math.max(0,i.top-b-a.gap),h=0),z<0&&(z=0)),(x<0||x+c>r)&&(1!==a.pos[3]?x=2*x+c>r?r-c:0:0===a.pos[2]?r>2*i.left+p&&(x=i.left+p+a.gap,d=2):2===a.pos[2]&&r<2*i.left+p&&(x=Math.max(0,i.left-c-a.gap),d=0),x<0&&(x=0),x+c>r&&n.css({maxWidth:r-x-(parseInt(n.css("paddingLeft"),10)+parseInt(n.css("paddingRight"),10))})),a.fixNub&&g.length&&(0===h?g.css({left:i.left-x+p/2-a.nubSize,top:"auto",bottom:-2*a.nubSize}):2===h?g.css({left:i.left-x+p/2-a.nubSize,top:-2*a.nubSize,bottom:"auto"}):0===d?g.css({top:i.top-z+l/2-a.nubSize,left:"auto",right:-2*a.nubSize}):2===d&&g.css({top:i.top-z+l/2-a.nubSize,left:-2*a.nubSize,right:"auto"})),u.length?n.css({position:"fixed",left:x,top:z}):n.css({position:"absolute",left:x+e.scrollLeft(),top:z+e.scrollTop()}),n.removeClass("align-left align-center align-right valign-top valign-middle valign-bottom").addClass("align-"+o[d]).addClass("valign-"+s[h])})}},t.fn.alignTo.defaults={gap:0,pos:[1,2,1,0],fixNub:!0,nubClass:"nub",nubSize:5}}(jQuery,$(window));
!function(t,e){"use strict";t.fn.hideAllTooltips=function(e){return this.each(function(){t(this).data("suppressTooltips",!0).find("[data-tooltip-id]").each(function(){if(!t(this).data("tooltip-keep")){var o=t(this).attr("data-tooltip-id");o&&o.length&&o!==e&&t("#"+o).hide()}})})},t.fn.destroyAllTooltips=function(e){return this.each(function(){t(this).data("suppressTooltips",!0).find("[data-tooltip-id]").each(function(){var o=t(this).attr("data-tooltip-id");o&&o.length&&o!==e&&t("#"+o).remove()})})},t(document).on("mouseleave._ltt_",function(){e.hideAllTooltips()}),t.fn.addTooltip=function(o,i){typeof o===UNDEF||typeof o===STRING||o.jquery||(i=o,o=null),i=t.extend({},t.fn.addTooltip.defaults,i);var a=function(e){if(typeof e!==UNDEF&&e&&e.length){if(e.is(":hidden")||e.css("opacity")<.25)return!1;var o=!0;return e.parents().each(function(){if(t(this).is(":hidden")||t(this).css("opacity")<.25)return o=!1,!1}),o}return!0};return this.each(function(){if(this["data-tooltip-id"])return!0;var n,l,s,r,u,p=t(this),d=i,c=!1,f=!1,h=!1,T="_ltt_"+Math.floor(1e4*Math.random()),m=function(e){a(t(this))&&(clearTimeout(s),s=null,c=!0)},y=function(t){f||(c=!1,clearTimeout(s),s=setTimeout(v,Math.min(d.stay||100)))},v=function(){c||(h=!1,clearTimeout(l),clearTimeout(s),l=s=null,n&&n.css({opacity:0}).one("transitionend",function(){t(this).css({display:"none"})}))},g=function(){var o=p.offset();p.data("suppressTooltips")||(s=clearTimeout(s),(!r||Math.abs(o.top-r.top)<1&&Math.abs(o.left-r.left)<1)&&(d.exclusive&&(p.data("tooltip-keep",!0),e.hideAllTooltips(p.data("tooltip-id")),p.data("tooltip-keep",null)),n.css({opacity:0,display:"block"}).alignTo(p,{gap:d.gap,pos:d.pos}).css({opacity:1}).one("transitionend",function(){t(this).css({display:"block"}),clearTimeout(s),s=setTimeout(v,d.stay)}),h=!0),r=o)},b=function(){return!!n&&n.is(":visible")&&n.css("opacity")>.99},k=function(t){var e=t.closest("a");return e.length&&e.attr("href")&&!e.attr("href").startsWith("javascript")},A=function(e){p.off("."+T),l=clearTimeout(l),s=clearTimeout(s),p.data("suppressTooltips",!0),t("#"+p.attr("data-tooltip-id")).remove(),p.attr("data-tooltip-id",null)};p.attr("data-tooltip")&&typeof p.data("tooltip")===OBJECT&&(d=t.extend({},d,p.data("tooltip")),p.removeAttr("data-tooltip")),p.attr("data-tooltip-id",T).data("suppressTooltips",!1).on("destroyTooltip",A).on("removeTooltip",v).on("focus."+T+" mouseenter."+T,function(e){if(!p.data("suppressTooltips")&&a(t(e.target).closest("[data-tooltip-id]"))){if(h=b(),u=new Date,r=p.offset(),(n=t("#"+p.data("tooltip-id"))).length)clearTimeout(s),s=null;else if(p.data("suppressTooltips")||!(n=function(e,o){var a;if(o)if(typeof o===STRING)a=t("<div>",{html:o}).appendTo("body");else{if(!o.jquery)return null;a=t.contains(document.body,o[0])?o:o.appendTo("body")}else{if((o=e.data("tooltip"))?o.jquery?o.removeClass("hidden"):typeof o===STRING?"."===o.charAt(0)?o=e.find(o).eq(0):"#"===o.charAt(0)&&(o=t(o)):(typeof o===OBJECT&&(i=t.extend({},i,o)),o=e.attr("title"),e.removeAttr("title")):(o=e.attr("title"),e.removeAttr("title")),!o||!o.length)return null;a=t("<div>",{html:o}).appendTo("body")}return a.is(":empty")?null:(a.attr("id",e.attr("data-tooltip-id")).addClass(i.className).attr("role","tooltip").attr("aria-hidden",!0).hide().append(t("<span>",{class:i.nub})),a)}(p,o))||(n.on("mouseover."+T,m).on("mouseout."+T,y),n.find("input, textarea").on("focus."+T,function(){f=!0,m(this)}).on("blur."+T,function(){f=!1}),0))return A(),!0;clearTimeout(l),l=null,"mouse"===whatInput.ask("intent")&&(l=setTimeout(g,d.delay))}return!0}).on("blur."+T+" mouseleave."+T,function(e){a(t(e.target).closest("[data-tooltip-id]"))&&(clearTimeout(s),s=null,s="mouse"===whatInput.ask("intent")?setTimeout(v,100):setTimeout(v,3e3))}).on("click."+T,function(e){if(a(t(e.target).closest("[data-tooltip-id]"))){if(clearTimeout(l),l=null,d.touchToggle||"mouse"!==whatInput.ask("intent")){var o=new Date;if(d.touchToggle||o-u>1e3)return!(!k(t(e.target))||!b())||(function(t){t.preventDefault(),clearTimeout(l),clearTimeout(s),l=s=null}(e),h?v():g(),!1)}else if(k(t(e.target)))return!0;h&&(clearTimeout(s),s=null,v()),c=!1}return!0})})},t.fn.addTooltip.defaults={delay:50,className:"tooltip",nub:"nub",stay:2e3,exclusive:!0,touchToggle:!1,pos:[1,2,1,0],gap:6}}(jQuery,$("body"));
!function(t,a,o){"use strict";t.fn.modal=function(a,s,e){if("string"==typeof a&&(a=t(document.createTextNode(a))),a instanceof t&&a.length){typeof s===UNDEF||Array.isArray(s)||(e=s,s=null),a.data("modal")&&(e=t.extend({},e,a.data("modal"))),e=t.extend({},t.fn.modal.defaults,e);var l=t(this),n=l.find("."+e.modalClass),d=n.length?parseInt(n.last().css("zIndex")):3e5,i=getTranslations(t.fn.modal.text),r=function(a,o){var s,n,r;if((s=t("<div>",{class:e.modalClass,zIndex:d+1}).appendTo(l)).data("modal-ns","lmo_"+Math.floor(1e4*Math.random())),n=t("<div>",{class:e.windowClass+(e.hasOwnProperty("class")?" "+e.class:""),role:"dialog"}).appendTo(s),t("<a>",{class:e.closeClass,title:i.closeWindow}).appendTo(e.alignTo?s:n).addTooltip(),r=t("<div>",{class:e.contentClass+" scrollable"}).appendTo(n),e.title&&n.addClass(e.hasHeaderClass).prepend(t("<header>",{class:e.headerClass+(e.icon?" icon-"+e.icon:""),html:e.title})),r.append(a.show()),o){var u,p,h=t("<div>",{class:e.buttonsClass}).appendTo(r),f=function(a){a.preventDefault();var o=a.target;return typeof o.handler===FUNCTION&&!1!==o.handler.call(this)&&c(t(o).closest("."+e.modalClass)),!1};for(u=0;u<o.length;u++)p=t("<button>",{class:[e.buttonClass,o[u].c].filter(Boolean).join(" "),html:" "+o[u].t}).on("click",f).appendTo(h),typeof o[u].h===FUNCTION&&(p[0].handler=o[u].h)}return s},c=function(t){t.length&&(clearTimeout(t.data("to")),t.destroyAllTooltips(),t.fadeOut(e.speed,function(){t.data("keep")?t.hide().css("opacity",1):t.remove()}),o.toggleClass(e.hasModalClass,l.find("."+e.modalClass).length))};return function(a,s){var n=function(a){return t.contains(document.documentElement,a[0])}(a)?function(t){var a=t.parents("."+e.modalClass);return a.length&&a.parent()===l||(a=t.appendTo(l)),a.data("keep",!0),a}(a):typeof s===UNDEF?r(a):r(a,s);e.hasOwnProperty("closeOnClick")&&t(e.closeOnClick).on("click",function(){c(t(this).closest("."+e.modalClass))});var d=e.hasOwnProperty("alignTo")?e.alignTo instanceof jQuery?e.alignTo:t(e.alignTo):t();return d.length&&d.is(":visible")&&function(a,o){o.jquery||(o=t(o));var s,l,n=o.position(),d=[o.outerWidth(),o.outerHeight()],i=[a.outerWidth(),a.outerHeight()],r=[(n.left+d[0]/2)/i[0],(n.top+d[1]/2)/i[1]],c=null,u=null,p=null,h=null,f={},C={};r[0]>.333&&r[0]<.667?c="50%":r[0]<=.333?c=n.left+"px":(u=i[0]-(n.left+d[0])+"px",c="auto"),r[1]<=.5?(p=n.top+d[1]+4+"px",s=n.top+d[1]-e.closeSize+"px"):(h=i[1]-n.top+4+"px",p="auto",l=i[1]-n.top-e.closeSize+"px",s="auto"),f.left=C.left=c,null!==u&&(f.right=C.right=u),f.top=p,C.top=s,null!==h&&(f.bottom=h,C.bottom=l),f.transform=C.transform="50%"===c&&"50%"===p?"translate(-50%,-50%)":"50%"===c?"translateX(-50%)":"50%"===p?"translateY(-50%)":"none",a.children("."+e.windowClass).css(f),a.children("."+e.closeClass).css(C)}(n,d),n.hide().css("opacity",1).fadeIn(e.speed),o.addClass(e.hasModalClass),n.on("destroy",function(){c(t(this))}),n.on("close",function(){c(t(this))}),n.find("."+e.closeClass).add(n).on("click."+n.data("modal-ns"),function(a){if(a.target===this)return c(t(this).closest("."+e.modalClass)),typeof e.onClose===FUNCTION&&e.onClose.call(this),!1}),e.autoFade&&n.data("to",setTimeout(function(){c(n)},e.autoFade)),n}(a,s)}},t.fn.modal.defaults={modalClass:"modal",windowClass:"window",headerClass:"header",closeClass:"close",contentClass:"content",buttonsClass:"buttons",buttonClass:"button",hasHeaderClass:"has-header",hasModalClass:"has-modal",speed:300,autoFade:0,width:400,type:"normal",closeSize:40},t.fn.modal.text={closeWindow:"Close window"}}(jQuery,jQuery(window),jQuery("body"));
!function(e){"use strict";e.fn.renderShares=function(t){t=e.extend({},e.fn.renderShares.defaults,t);var i,a,n,r,s,o=e(this),l=getTranslations(e.fn.renderShares.text),c=t.emailSubject||l.checkThisOut,p=t.emailBody||"{title}\n\r{description}\n\r{link}",d=(t.indexName.getExt(),function(e){var t,i=this.querySelector("input[name=url]"),a=i.value;if(i){i.focus(),i.setSelectionRange(0,a.length);try{t=document.execCommand("copy")}catch(e){t=!1}t&&(i.value=l.copied+"...",i.classList.add("copied"),setTimeout(function(){i.value=a,i.classList.remove("copied")},500))}return!1}),h=function(e){var t=this.checked,i=this.name,a=this.parentNode.querySelector("input[name=url]");t?a.value.indexOf("#")>=0?-1===a.value.indexOf(new RegExp("[#&]"+i))&&(a.value+="&"+i):a.value+="#"+i:a.value=a.value.replace(new RegExp("[#&]"+i,"g"),"")},u=function(i){typeof i===UNDEF?i=t:(i.hasOwnProperty("href")||(i.href=window.location.href),i.hasOwnProperty("title")&&i.title&&(i.title=i.title.stripHTML()),i.hasOwnProperty("description")&&i.description&&(i.description=i.description.stripHTML()),i=e.extend({},t,i)),i.image.startsWith("http")||(i.image=window.location.href.getDir()+i.image);var r=e(i.currCardHook);if(r.length){if(!i.hasOwnProperty("title")&&(i.title=r.find(".caption .title").text(),!i.title)){var u=r.find("img, video");i.title=u.length?u.attr("title")||u.attr("alt")||(u.attr("src")?u.attr("src").getFile().replace(/\.(jpg|gif|png|mp4)$/i,"").replace(/_/g," "):""):""}if(i.hasOwnProperty("description")||(i.description=r.find(".caption .comment").text()),!i.hasOwnProperty("image")){var m=e(i.currCardHook+" img");m.length?i.image=m.attr("src"):(m=e(i.currCardHook+" video")).length?i.image=m.attr("src").replaceExt("jpg"):(m=e("link[rel=image_src]"),i.image=m.length?m.attr("href"):window.location.href.getDir()+"folderthumb.jpg")}i.usePreview&&(i.hasOwnProperty("image")&&a.attr("src",i.image),n.empty(),i.hasOwnProperty("title")&&n.append('<h3 class="title">'+i.title+"</h3>"),i.hasOwnProperty("description")&&n.append('<div class="description">'+i.description+"</div>"))}else a&&a.attr("src",void 0),n&&n.html(s);var f,g=encodeURIComponent(i.href),b=i.href.indexOf("#img=")>0?i.href.replace(t.indexName,"").replace("#img=","slides/").replaceExt(i.pageExt):i.href,w=encodeURIComponent(i.title),k=encodeURIComponent(i.description),v=encodeURIComponent(i.image);o.find("."+t.sharesClass+" a").each(function(){var a=e(this);switch(a.data("share")){case"facebook":if(typeof FB!==UNDEF)return void a.off(".share").on("click.share",function(){return FB.ui({method:"share",href:b,caption:i.title,description:i.description,picture:i.image}),!1});f="https://www.facebook.com/sharer.php?s=100&p%5Burl%5D="+i.href+"&p%5Bimages%5D%5B0%5D="+i.image+"&p%5Btitle%5D="+w;break;case"threads":f="https://threads.net/intent/post?text="+w+":%20"+b;break;case"bluesky":f="https://bsky.app/intent/compose?text="+w+":%20"+b;break;case"twitter":f="https://twitter.com/intent/tweet?url="+w+":%20"+g;break;case"tumblr":f="https://www.tumblr.com/share/link?url="+g+"&name="+w;break;case"pinterest":f="https://pinterest.com/pin/create/button/?url="+g+"&media="+v+"&description="+w;break;case"linkedin":f="https://www.linkedin.com/shareArticle?mini=true&url="+g+"&title="+w+"&summary="+k;break;case"digg":f="https://digg.com/submit?url="+i.href;break;case"reddit":f="https://www.reddit.com/submit?url="+i.href;break;case"email":f="mailto:?subject="+encodeURIComponent(c.replace("{title}",i.title).replace("{description}",i.description).replace("{album}",t.albumTitle||""))+"&body="+encodeURIComponent(p.replace("{title}",i.title).replace("{description}",i.description).replace("{link}",i.href).replace("{album}",t.albumTitle||""));break;case"link":var n=e('<form class="copy-url"><input name="url" type="text" readonly value="'+i.href+'"><input name="slideshow" id="slideshowcb" type="checkbox"><label for="slideshowcb">'+l.slideshow+'</label> <button type="submit" class="button icon-copy" data-closer> '+l.copy+"</button></form>");return n.on("submit",d),n.find("[name=slideshow]").on("change",h),void a.addClass("copy-url-btn").trigger("destroyTooltip").addTooltip(n,{stay:4e3,pos:t.pos,touchToggle:!0});default:return}a.attr({href:f,target:"_blank"})})};if(t.hasOwnProperty("href")||(t.href=window.location.href),!t.hasOwnProperty("image")){var m=e("link[rel=image_src]");t.image=m.length?m.attr("href"):window.location.href.getDir()+"folderthumb.jpg"}return t.hasOwnProperty("title")||(t.title=function(){var t=o.find("h3,.title");return t.length&&(t=t.text())?t:(t=e('meta[property="og:title"]')).length&&(t=t.attr("content"))?t:e("title").text()||""}()),t.hasOwnProperty("description")||(t.description=function(){var t=o.find(".description,.comment");return t.length&&(t=t.text())?t:(t=e('meta[property="og:description"]')).length&&(t=t.attr("content"))?t:(t=e("meta[name=description]")).length&&(t=t.attr("content"))?t:""}()),t.hasOwnProperty("pageExt")||(t.pageExt=t.indexName.getExt()),t.usePreview?((i=o.find("."+t.contClass)).length||(i=e("<div>",{class:t.contClass}).appendTo(o)),(a=i.find("img")).length||(t.image?a=e("<img>",{src:t.image}).appendTo(i):i.addClass("no-image")),(n=i.find("."+t.captionClass)).length||(n=e("<div>",{class:t.captionClass,html:'<h3 class="title">'+t.title+"</h3>"+(t.description?'<div class="description">'+t.description+"</div>":"")}).appendTo(i)),s=n.html(),(r=i.find("."+t.socialLinksClass)).length||(r=e("<div>",{class:t.socialLinksClass}).appendTo(i))):r=o,function(i){for(var a,n,r=e("<div>",{class:t.sharesClass}).appendTo(i||o),s=t.sites.split(","),c=0;c<s.length;c++)a=s[c],"facebook,threads,bluesky,twitter,tumblr,pinterest,linkedin,digg,reddit,email,link".indexOf(a)>=0&&(n=e("<a>",{class:t.btnClass+" icon-"+("twitter"===a?"x":a),rel:"noopener",text:" "+(t.buttonLabels?a.capitalize():"")}).data("share",a).appendTo(r),"email"===a?n.data("tooltip",l.email):"link"!==a&&n.data("tooltip",l.shareOn+" "+("twitter"===a?"X":a.capitalize())));u(),r.children("a").not(".copy-url-btn").addTooltip({pos:t.pos})}(r),t.hasOwnProperty("buttons")&&!LOCAL&&function(i){for(var a=t.buttons.split(","),n=encodeURIComponent(window.location.href.split("#")[0]),r=encodeURIComponent(t.title||e("meta[name=title]").attr("content")||e("title").text()),s=t.image?(t.image.startsWith("http")?"":window.location.href.getDir())+encodeURIComponent(t.image):e("link[rel=image_src]").attr("href"),l=e("<div>",{class:t.buttonsClass}).appendTo(i||o),c=0;c<a.length;c++)switch(a[c]){case"facebook":l.append('<div class="likebtn fb-like" data-href="'+n+'" data-layout="button_count" data-action="like" data-size="large" data-show-faces="false" data-share="false"></div>');break;case"twitter":l.append('<a class="likebtn twitter-share-button icon-x" href="https://twitter.com/intent/tweet?text='+r+"&url="+n+'" data-size="large" target="_blank"> Tweet</a>');break;case"pinterest":l.append('<div class="likebtn"><a data-pin-do="buttonPin" data-pin-count="beside" data-pin-tall="true" data-pin-save="true" href="https://www.pinterest.com/pin/create/button/?url='+n+"&media="+s+"&description="+r+'" data-pin-do="buttonPin"></a></div>')}}(r),o.closest(".modal").length&&o.find("."+t.sharesClass+" a").not(".copy-url-btn").on("click",function(){return e(this).closest(".modal").trigger("close"),!0}),o.on("updateLinks",function(e,t){u(t)}),this},e.fn.renderShares.defaults={buttonLabels:!1,usePreview:!0,contClass:"thumb",captionClass:"caption",socialLinksClass:"social-links",sharesClass:"shares",buttonsClass:"buttons",btnClass:"btn",sites:"facebook,twitter,tumblr",indexName:"index.html",currCardHook:".lightbox .curr",emailSubject:"",emailBody:"",pos:[2,1,0,1]},e.fn.renderShares.text={checkThisOut:"Found this page",copied:"Copied",slideshow:"Slideshow",copy:"Copy",email:"Email",shareOn:"Share on"}}(jQuery);
!function(t,o){"use strict";var e,i,a="undefined",n="function",s=function(){var t=(document.body||document.documentElement).style;if(void 0!==t.webkitTransition)e="-webkit-",i="webkitTransitionEnd";else if(void 0!==t.MozTransition)e="-moz-",i="transitionend";else if(void 0!==t.OTransition)e="-o-",i="oTransitionEnd";else{if(void 0===t.transition)return!1;e="",i="transitionend"}return!0}(),r={left:0,top:0,center:.5,middle:.5,right:1,bottom:1};t.fn.translateX=function(o,r,p,f){var c={};if(typeof o===a){var l=t(this).eq(0);return s?l.position().left-parseFloat(l.css("left")):l.position().left-l.data("leftPos")||0}return typeof p===a?p="ease-out":typeof p===n&&(f=p,p="ease-out"),s&&(c[e+"transform"]="translateX("+o+"px)",c[e+"transition"]=e+"transform"+(r?" "+r+"ms "+p:"")),this.each(function(){var e=t(this);if(s)typeof f===n&&e.one(i,f),e.css(c);else{var a=e.data("leftPos");void 0===a&&e.data("leftPos",a=e.position().left),c.left=a+o,r?e.animate(c,{duration:r,easing:p,complete:f}):(typeof f===n&&setTimeout(function(){f.call(e[0])},50),e.css(c))}})},t.fn.translateY=function(o,r,p,f){var c={};if(typeof o===a){var l=t(this).eq(0);return s?l.position().top-parseFloat(l.css("top")):l.position().top-l.data("topPos")||0}return typeof p===a?p="ease-out":typeof p===n&&(f=p,p="ease-out"),s&&(c[e+"transform"]="translateY("+o+"px)",c[e+"transition"]=e+"transform"+(r?" "+r+"ms "+p:"")),this.each(function(){var e=t(this);if(s)typeof f===n&&e.one(i,f),e.css(c);else{var a=e.data("topPos");void 0===left&&e.data("topPos",a=e.position().top),c.top=a+o,r?e.animate(c,{duration:r,easing:p,complete:f}):(typeof f===n&&setTimeout(function(){f.call(e[0])},50),e.css(c))}})},t.fn.translate=function(o,r,p,f){var c={};if(typeof o===a){var l=t(this).eq(0);return s?[l.position().left-parseFloat(l.css("left")),l.position().top-parseFloat(l.css("top"))]:[l.position().left-l.data("leftPos")||0,l.position().top-l.data("topPos")||0]}return typeof p===a?p="ease-out":typeof p===n&&(f=p,p="ease-out"),s&&(c[e+"transform"]="translate("+o[0]+"px,"+o[1]+"px)",c[e+"transition"]=e+"transform"+(r?" "+r+"ms "+p:"")),this.each(function(){var e=t(this);if(s)typeof f===n&&e.one(i,f),e.css(c);else{var a=e.data("leftPos");top=e.data("topPos"),void 0===a&&e.data("leftPos",a=e.position().left),void 0===top&&e.data("topPos",top=e.position().top),c.left=a+o[0],c.top=top+o[1],r?e.animate(c,{duration:r,easing:p,complete:f}):(typeof f===n&&setTimeout(function(){f.call(e[0])},50),e.css(c))}})},t.fn.translateXAndFade=function(o,r,p,f,c){var l={opacity:r};return typeof f===a?f="ease-out":typeof f===n&&(c=f,f="ease-out"),s&&(l[e+"transform"]="translateX("+o+"px)",l[e+"transition-property"]=e+"transform, opacity",l[e+"transition-duration"]=p+"ms",l[e+"transition-timing-function"]=f+", linear"),this.each(function(){var e=t(this);if(s)typeof c===n&&e.one(i,c),e.css(l);else{var a=e.data("leftPos");void 0===a&&e.data("leftPos",a=e.position().left),l.left=a+o,p?e.animate(l,{duration:p,specialEasing:[f,"linear"],complete:c}):(e.css(l),typeof c===n&&setTimeout(function(){c.call(e[0])},50))}})},t.fn.translateYAndFade=function(o,r,p,f,c){var l={opacity:r};return typeof f===a?f="ease-out":typeof f===n&&(c=f,f="ease-out"),s&&(l[e+"transform"]="translateY("+o+"px)",l[e+"transition-property"]=e+"transform, opacity",l[e+"transition-duration"]=p+"ms",l[e+"transition-timing-function"]=f+", linear"),this.each(function(){var e=t(this);if(s)typeof c===n&&e.one(i,c),e.css(l);else{var a=e.data("topPos");void 0===a&&e.data("topPos",a=e.position().top),l.top=a+o,p?e.animate(l,{duration:p,specialEasing:[f,"linear"],complete:c}):(e.css(l),typeof c===n&&setTimeout(function(){c.call(e[0])},50))}})},t.fn.translateAndFade=function(o,r,p,f,c){var l={opacity:r};return typeof f===a?f="ease-out":typeof f===n&&(c=f,f="ease-out"),s&&(l[e+"transform"]="translate("+o[0]+"px,"+o[1]+"px)",l[e+"transition-property"]=e+"transform, opacity",l[e+"transition-duration"]=p+"ms",l[e+"transition-timing-function"]=f),this.each(function(){var e=t(this);if(s)typeof c===n&&e.one(i,c),e.css(l);else{var r=e.data("leftPos"),u=e.data("topPos");typeof r===a&&e.data("leftPos",r=e.position().left),typeof u===a&&e.data("topPos",u=e.position().top),l.left=r+o[0],l.top=u+o[1],p?e.animate(l,{duration:p,specialEasing:[f,"linear"],complete:c}):(e.css(l),typeof c===n&&setTimeout(function(){c.call(e[0])},50))}})},t.fn.opacity=function(o,r,p,f){var c=t(this);if(typeof o===a||"boolean"==typeof o)return c.css("opacity");var l=!1,u={},y=function(){l||(l=!0,typeof f===n&&f.call(c[0]))};return typeof r===n?(f=r,p="ease-out",r=0):typeof p===n&&(f=p,p="ease-out"),c.css("opacity")===o?(typeof f===n&&setTimeout(function(){f.call(c[0])},50),this):(u.opacity=o,s?r?(u[e+"transition"]="opacity "+r+"ms "+p,c.one(i,y),setTimeout(y,r+50),c.css(u)):(u[e+"transition"]="none",c.css(u),typeof f===n&&setTimeout(function(){f.call(c[0])},50)):r?c.animate(u,{duration:r,easing:p,complete:f}):(c.css(u),typeof f===n&&setTimeout(function(){f.call(c[0])},50)),this)},t.fn.transform=function(o,p,f,c,l){var u=t(this).eq(0),y=u.data("transform")||{origo:[0,0],position:[0,0],origin:[.5,.5],baseSize:[u.width(),u.height()],baseScale:[1,1],scale:[1,1],rotate:0};if("object"!=typeof o)return y;arguments.length>1?(typeof p===n?(l=p,f="ease-out",p=void 0):typeof f===n?(l=f,f="ease-out"):typeof c===n&&(l=c,c=!1),"boolean"==typeof f&&(c=f,f="ease-out"),"boolean"==typeof p&&(c=p,p=void 0)):f="ease-out";var d,m=!1,g={},h=function(){setTimeout(function(){m||(m=!0,typeof l===n&&l.call(u[0]))},20)};if(o.hasOwnProperty("opacity")&&(g.opacity=o.opacity),o.hasOwnProperty("origo")){if(!s||c){var v=u.data("originalPosition");typeof v===a&&(v=[u.position().left,u.position().top],u.data("originalPosition",v)),o.origo[0]+=v[0],o.origo[1]+=v[1]}}else o.origo=y.origo;return o.hasOwnProperty("baseScale")?"number"==typeof o.baseScale&&(o.baseScale=[o.baseScale,o.baseScale]):o.baseScale=y.baseScale,o.hasOwnProperty("baseSize")?o.scale||o.size||(o.scale=[1,1]):o.baseSize=y.baseSize,o.hasOwnProperty("position")?(typeof o.position[0]===a&&(o.position[0]=y.position[0]),typeof o.position[1]===a&&(o.position[1]=y.position[1])):o.position=y.position,o.hasOwnProperty("origin")?("string"==typeof o.origin[0]&&(o.origin[0]=r[o.origin[0]]),"string"==typeof o.origin[1]&&(o.origin[1]=r[o.origin[1]])):o.origin=y.origin,o.hasOwnProperty("scale")?"number"==typeof o.scale&&(o.scale=[o.scale,o.scale]):o.hasOwnProperty("size")?o.scale=[o.size[0]/o.baseSize[0],o.size[1]/o.baseSize[1]]:o.scale=y.scale,d=[o.scale[0]*o.baseScale[0],o.scale[1]*o.baseScale[1]],u.data("transform",o),s&&!c?(o.origin[0]===y.origin[0]&&o.origin[1]===y.origin[1]||(g[e+"transform-origin"]=100*o.origin[0]+"% "+100*o.origin[1]+"%"),g[e+"transform"]="translate("+(o.origo[0]+o.position[0])+"px,"+(o.origo[1]+o.position[1])+"px)"+(1===d[0]&&1===d[1]?"":" scale("+d[0]+","+d[1]+")")+(o.rotate?" rotate("+o.rotate+"deg)":""),p?(g[e+"transition-property"]=e+"transform"+(void 0!==o.opacity?", opacity":""),g[e+"transition-duration"]=p+"ms",f&&(g[e+"transition-timing-function"]=f),typeof l===n&&(u.one(i,h),setTimeout(h,p+50)),u.css(g)):(g[e+"transition"]="none",u.css(g),typeof l===n&&setTimeout(function(){l.call(u[0])},50))):(g.left=o.origo[0]+o.position[0],g.top=o.origo[1]+o.position[1],o.hasOwnProperty("size")?(g.width=o.size[0],g.height=o.size[1]):(g.width=o.baseSize[0]*d[0],g.height=o.baseSize[1]*d[1],g.left-=(g.width-o.baseSize[0])*o.origin[0],g.top-=(g.height-o.baseSize[1])*o.origin[1]),p?u.animate(g,{duration:p,easing:f,complete:l}):(u.css(g),typeof l===n&&setTimeout(function(){l.call(u[0])},50))),this}}(jQuery,document);
!function(e,t,o,n){"use strict";e.fn.swipe=function(n){n=e.extend({onSwipedLeft:!1,onSwipedRight:!1,onSmallSwipe:!1,onSwipeStart:!1,onClick:!1,onDoubleClick:!1,onFinished:!1,threshold:20,doubleClickThreshold:240,noSwipeInside:".caption",swipeoutSpeed:300,overThreshold:.25},n);var a=function(e){return[e.outerWidth(),e.outerHeight()]},i=function(e){return e.touches&&1===e.touches.length?[Math.round(e.touches[0].pageX),Math.round(e.touches[0].pageY)]:null!==e.clientX?[Math.round(e.pageX),Math.round(e.pageY)]:null};return this.each(function(){var l,u,r,s,d,c,h,p,f=e(this),g=f.parent(),w=f.data("lsw_ns")||"lsw_"+Math.floor(1e4*Math.random()),m=!0,T=!0,S=!0,C=!1,v=null,N=null,y=(f.hasClass("audio")||f.hasClass("video"),function(e){typeof n.onFinished===FUNCTION&&n.onFinished.call(f[0],e)}),O=function(e){I(e),f.data("scrolling",!1),typeof n.onClick===FUNCTION&&n.onClick.call(f[0],e)},D=function(e,t){I(t),e?typeof n.onSwipedRight===FUNCTION&&n.onSwipedRight.call(f[0],t):typeof n.onSwipedLeft===FUNCTION&&n.onSwipedLeft.call(f[0],t)},I=function(e){"mouseup"===e.type||"mouseout"===e.type?(f.off("mouseup."+w+" mouseout."+w),o.off("mousemove."+w)):e.type===TOUCH.END&&f.off(TOUCH.END+"."+w)},M=function(e){return!!(m||S||e.originalEvent.touches&&e.originalEvent.touches.length>1)||(e.preventDefault(),T?h=[function(e){return e.touches&&1===e.touches.length?Math.round(e.touches[0].pageX):null!==e.pageX?Math.round(e.pageX):null}(e.originalEvent)-c[0],0]:((h=i(e.originalEvent))[0]-=c[0],h[1]-=c[1]),f.translate([p[0]+h[0],p[1]+h[1]]),!1)},E=function(e){if(S)return!0;if(e.preventDefault(),v&&(clearTimeout(v),v=null),m=!0,(d=(new Date).getTime())-s>50&&function(e){return Array.isArray(e)?Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)):Math.abs(e)}(h)>n.threshold){var t=1+n.swipeoutSpeed/(d-s);if(f.data({scrolling:!0,swipeEnded:!0,taplength:d-s}),T){a=p[0]+h[0]*t;u[0]>=l[0]||h[0]>0&&a-l[0]/2>u[0]*(n.overThreshold-.5)||a+l[0]/2<u[0]*(.5-n.overThreshold)?(f.translateXAndFade(a,0,n.swipeoutSpeed),N=setTimeout(y,n.swipeoutSpeed+20,e),D(h[0]>0,e)):f.translateX(a,n.swipeoutSpeed)}else{var o=parseInt(f.css("top")),a=[p[0]+h[0]*t,h[1]>0?Math.min(-o,p[1]+h[1]*t):Math.max(-o+u[1]-l[1],p[1]+h[1]*t)];Math.abs(h[0])>Math.abs(h[1])&&(a[0]-l[0]/2>u[0]*(n.overThreshold-.5)||a[0]+l[0]/2<u[0]*(.5-n.overThreshold))?(f.translateAndFade(a,0,n.swipeoutSpeed),N=setTimeout(y,n.swipeoutSpeed+20,e),D(h[0]>=0,e)):f.translate(a,n.swipeoutSpeed)}C=!1}else h[0]||h[1]?(!function(e){I(e),f.data("scrolling",!1),typeof n.onSmallSwipe===FUNCTION&&n.onSmallSwipe.call(f[0],e)}(e),f.translateX(0,100),C=!1):n.onDoubleClick?C?((new Date).getTime()-d<n.doubleClickThreshold?function(e){I(e),f.data("scrolling",!1),typeof n.onDoubleClick===FUNCTION&&n.onDoubleClick.call(f[0],e)}(e):O(e),C=!1):(C=!0,v=setTimeout(function(e){O(e),C=!1},n.doubleClickThreshold+10,e)):O(e);return!1};f.add(o).off("."+w),f.data("lsw_ns",w),t.on("resize."+w,function(){clearTimeout(r),r=setTimeout(function(){u=a(g)},50)}),f.attr("draggable","false").on(TOUCH.START+"."+w+" dragstart."+w+" mousedown."+w,function(t){return!C&&("touchstart"!==t.type&&t.preventDefault(),"mousedown"===t.type&&1!==t.which?(function(e){I(e),f.data("scrolling",!1),typeof n.onRightClick===FUNCTION&&n.onRightClick.call(f[0],e)}(t),!0):pageZoomed()||t.originalEvent.touches&&t.originalEvent.touches.length>1||n.noSwipeInside&&e(t.target).closest(n.noSwipeInside).length||"A"===t.target.nodeName||"INPUT"===t.target.nodeName||"BUTTON"===t.target.nodeName||"AUDIO"===t.target.nodeName||"VIDEO"===t.target.nodeName&&t.target.controls&&(ISIOSDEVICE||t.offsetY>e(t.target).height()-60)?(S=!0,!0):(S=!1,m=!1,C=!1,f.data({scrolling:!0,swipeEnded:!1,taplength:0}),s=(new Date).getTime(),c=i(t.originalEvent),u=a(g),l=a(f),T=u[1]>=l[1],h=[0,0],p=f.translate(),function(e){"mousedown"===e.type?(f.on("mouseup."+w+" mouseout."+w,E),o.on("mousemove."+w,M)):e.type===TOUCH.START&&f.on(TOUCH.END+"."+w,E),C=!1}(t),"touchstart"===t.type))}).on(TOUCH.MOVE+"."+w+" drag."+w,M).on("removeSwipe."+w,function(){setTimeout(function(){f.data("scrolling",!1)},20),f.removeAttr("draggable"),f.add(o).off("."+w)}).on("selectstart."+w,function(e){return e.preventDefault(),!1})})}}(jQuery,jQuery(window),jQuery(document));
!function(e,t,a,n,o){"use strict";var i=function(e){return e*(1-2*Math.random())};e.fn.skin=function(o){o=e.extend({},e.fn.skin.defaults,o);var s,r,l,d,c,u,h,f,p,m,g=e(this).eq(0),v="animatics_skin",C=e("[data-audioplayer]"),w=C.length&&!C.data(o.pausedClass),y=getTranslations({print:"Print",download:"Download",startOver:"Start over",upOneLevel:"Up one level",nextFolder:"Next folder",atLastPageQuestion:"Where to go next?",atLastPage:"At last page"}),b={prev:"jprev",next:"jnext",cards:"cards",card:"card",caption:"caption",title:"title",hasCaption:"hascaption",imageReady:"imageready",prevPage:"prevpg",nextPage:"nextpg",currPage:"currpg",threedee:"threedee"},k=e("#lightbox"),T=e("#thumbnails"),x=e("#thumbnails .thumb-cont"),P=x.find(".thumb"),F=e("#controls"),N=e("#lbcontrols"),D=e("#panels"),M=(e("#navigation"),e("#numbers")),S=0,A=0,I=1,O=!1,E=o.scaling,q=new Date-1e4,L="",U=!1,R=new Date/1e3,z=null,H=null,W=null,j=null,X=null,V=!1,_=!1,B=function(e){if(e)for(var t=0;t<P.length;t++)if(P.eq(t).attr("href").getFile()===e)return t;return-1},Q=function(){if(window.location.hash!==L){L=window.location.hash;var e=readParam();if(e.hasOwnProperty("img")){var t=B(e.img);t>=0?xe(t):removeParam(o.indexName,"img"),G()}}},K=function(e,t){var a=P.eq(typeof t===UNDEF?S:t).data("vars"),n=e.split(",");if(a&&(a=a.type))for(var o=0;o<n.length;o++)if(n[o]===a)return!0;return!1},G=function(){if(o.hasOwnProperty("share"))if(k.is(":visible")){var t=P.eq(S),a=t.data("vars");a&&e(o.share.hook).trigger("updateLinks",{sites:o.share,title:t.attr("title")||t.attr("href").stripExt().replace(/[-_]/g," ").capitalize(),description:a.caption||"",image:function(e){var t=e.data("vars"),a=e.attr("href");return"video"===t.type||"audio"===t.type?a=a.replaceExt("jpg"):a?"gif"===a.getExt()&&(a=a.replaceExt("png")):a="thumbs/"+t.thumb,a}(t),href:t.attr("href").replaceExt("html")})}else e(o.share.hook).trigger("updateLinks")},Y=function(){var e=T.outerHeight(),a=(T.position().top,t.height()-D.position().top),n=F.find("[data-rel=thumbnails]").position().top;T.css("top",Math.minMax(0,a-e,n))},Z=function(){clearTimeout(W),W=null,g.removeClass(o.hideControlsClass)},$=function(){clearTimeout(W),W=null,D.children(".on").length||(F.add(N).hideAllTooltips(),g.addClass(o.hideControlsClass))},J=function(){o.autoHideControls&&"mouse"===whatInput.ask("intent")&&(_||o.autoHideControls&&"mouse"===whatInput.ask("intent")&&(a.on("mousemove."+v,function(){g.hasClass(o.hideControlsClass)&&Z(),J()}),_=!0),clearTimeout(W),W=setTimeout($,X?Math.min(o.slideshowDelay/2,1e3*o.hideControlsDelay):1e3*o.hideControlsDelay))},ee=function(t,a){t.each(function(){var t=e(this),n=this.id,o=!1;e("#controls [data-rel="+n+"]").removeClass("on"),t.hideAllTooltips(),t.one("transitionend",function(t){o||(o=!0,e(this).removeClass("on").css("display","none"),typeof a===FUNCTION&&a.call(null))}).css({transition:"all 500ms ease-out",opacity:0,transform:"translateX(-16px)"})})},te=function(){ee(D.children(".on"))},ae=function(t,a,n){var i,s,r,l,d=g.hasClass("thumbs-left")||g.hasClass("thumbs-right"),c=d?x.height():x.width(),u=e();typeof t===UNDEF||typeof t===FUNCTION?(i=d?x.scrollTop():x.scrollLeft(),typeof t===FUNCTION&&(typeof a===FUNCTION&&(n=a),a=t)):i=t,x.find("a."+o.lazyloadClass).filter(function(){var t=e(this).position()[d?"top":"left"]+i;return t+c/2>=0&&t-2*c<=0}).each(function(){if(!(s=e(this)).children("img").length){var t=s.data("vars"),a=t.thumbWidth,i=t.thumbHeight,d=a/i;(l=t.thumb)&&(r=e("<img>",{class:o.hideImageClass+" "+(d>=1.25?"landscape":d<=.8?"portrait":"square")}).one("load",function(){e(this).addClass(o.showImageClass).removeClass(o.hideImageClass),e(this).parent().removeClass(o.lazyloadClass),typeof n===FUNCTION&&n.call()}).attr({width:a,height:i,alt:t.title||l.stripExt(),src:be(s,[s.outerWidth(),s.outerHeight()])}).appendTo(s),u.append(r))}}),typeof a===FUNCTION&&(u.length?u.waitAllImg(a):a.call())},ne=function(e){return s.children("[data-rel="+e+"]")},oe=function(e){var t=20/e,a=function(e){f.css("width",100*e+"%"),e<1&&(e=Math.min(1,e+t),j=setTimeout(a,20,e))};clearTimeout(j),j=setTimeout(a,20,0)},ie=function(){V=!1,de()&&he(),X=setTimeout(function(){oe(p.delay+p.speed),Fe()},Math.max(p.delay/4,100)),o.backgroundAudioSlideshowControl&&C.trigger("fadeInPlayer"),V=!1},se=function(){clearTimeout(X),o.auto=!0,requestWakeLock(),te(),g.removeClass(o.pausedClass).addClass(o.playingClass),o.slideshowFullscreen?requestFullscreen(function(){ie(),g.addClass("fullscreen")}):ie()},re=function(){V=!1,X=setTimeout(function(){oe(p.delay+p.speed),Fe()},Math.max(p.delay/4,100)),o.backgroundAudioSlideshowControl&&C.trigger("fadeInPlayer"),g.removeClass(o.pausedClass).addClass(o.playingClass)},le=function(){clearTimeout(X),X=null,V=!1,o.auto&&o.backgroundAudioSlideshowControl&&C.trigger("fadeOutPlayer"),o.auto=!1,g.removeClass(o.playingClass).addClass(o.pausedClass),o.slideshowFullscreen&&exitFullscreen(function(){k.removeClass("fullscreen")}),releaseWakeLock()},de=function(){var e=ne(S).children("audio,video");return!!e.length&&!e[0].paused},ce=function(t){o.auto?(clearTimeout(X),o.auto&&o.backgroundAudioSlideshowControl&&C.trigger("fadeOutPlayer"),g.removeClass(o.playingClass).addClass(o.pausedClass),V=!o.auto):o.muteBackgroundAudio&&(w=!C.data(o.pausedClass))&&C.trigger("fadeOutPlayer"),e(this).closest("."+o.cardClass).addClass(o.playingClass)},ue=function(t){o.auto?re():o.muteBackgroundAudio&&w&&C.trigger("fadeInPlayer"),e(this).closest("."+o.cardClass).removeClass(o.playingClass)},he=function(e){var e=typeof e===UNDEF?S:e,t=ne(e),a=t.length?t.find("video,audio")[0]:null;a&&!a.paused&&a.pause()},fe=function(){var e=typeof e===UNDEF?S:e,t=ne(e),a=t.length?t.find("video,audio")[0]:null;if(a)if(a.paused){var n=a.play();n&&n.catch(function(e){console.log("Autoplay has prevented by the browser. "+e),a.muted||(a.muted=!0,n=a.play())})}else a.pause()},pe=function(){w=!1,o.auto&&V&&re()},me=function(){ne(S).css({transition:"all .2s ease-out"}).css({opacity:1,transform:"translateX(0)"})},ge=function(){var t=k.width()-2*o.fitPadding,a=k.height()-2*o.fitPadding;k.removeClass("landscape portrait").addClass(t>=a?"landscape":"portrait"),s.children().each(function(){var n=e(this),i=n.data("rel");if(null!==i&&i>=0&&i<P.length){var s,r=P.eq(i);if(r.length&&(s=r.data("vars"))){var l=s.width,d=s.height,c=s.type,u=1;if("full"===E&&s.hasOwnProperty("imageRenditions")){var h;typeof(h=s.imageRenditions)===STRING&&(h=Ce(h)),h.length&&(n.find("img").eq(0).attr("src",SLIDES_DIR+"/"+h[0][0]),l=h[0][1],d=h[0][2])}else"none"===E||"other"===c?(l>t||d>a)&&(u=Math.min(t/l,a/d)):"fit"===E||"video"===c||"audio"===c?u=Math.min(o.maxScale,Math.min(t/l,a/d)):"fill"===E&&(u=Math.min(o.maxScale,Math.max(t/l,a/d))),l*=u,d*=u;n.css({transition:"all .2s linear",width:Math.round(l),height:Math.round(d),left:Math.round((t-l)/2)+o.fitPadding,top:Math.round((a-d)/2)+o.fitPadding})}}})},ve=function(){var t=ne(A),a=(P.eq(A).data("vars").type,S!==A?ne(S):e()),n=function(){return[t.outerWidth()||s.width(),t.outerHeight()||s.height()]};switch(s.removeClass("bwd fwd"),I&&s.addClass(I>0?"fwd":"bwd"),e(".map-root").trigger("resetMarkers"),t.addClass(b.imageReady),s.data("ts",new Date),a.destroyAllTooltips(),s.children("."+o.cardClass).not(t).not(a).remove(),(P.length>1||"donothing"!==o.afterLast)&&t.swipe({onSwipedLeft:function(e){Fe()},onSwipedRight:function(){Pe()},onSwipeStart:function(){le()},onClick:function(e){if("BUTTON"===e.target.nodeName||"A"===e.target.nodeName||"AUDIO"===e.target.nodeName)return!0;if("VIDEO"===e.target.nodeName){var t=getCoords(e);if(!e.target.controls||t.y>e.target.offsetHeight-60)return e.target.controls=1,!1}return o.auto?le():"nextimage"===o.clickAction?Fe():"togglecontrols"===o.clickAction&&(g.hasClass(o.hideControlsClass)?Z():$()),!1},onDoubleClick:o.doubleClickZoom?function(){E="full"===E?o.scaling:"full",ge()}:null,onFinished:function(){e(this).data("rel")!==S&&e(this).remove()}}),a.data("scrolling")&&(a=e()),o.transitionType){case"crossfade":a.length?(t.css({opacity:0,transform:"translateX(0)"}).css({transition:"opacity "+p.adaptiveSpeed+"ms ease-in-out"}).css({opacity:1}),t.one("transitionend",ke),a.one("transitionend",function(){e(this).remove()}).css({transition:"opacity "+p.adaptiveSpeed+"ms ease-in-out"}).css({opacity:0})):t.show().css({opacity:1,transition:"opacity "+p.adaptiveSpeed+"ms ease-in-out"});break;case"zoom":var r=function(){t.css({transform:"scale("+(I>0?.9:1.11)+")",opacity:0}),a.one("transitionend",function(){e(this).remove()}).css({opacity:0,transform:"scale("+(I>0?1.11:.9)+")",transition:"transform "+p.adaptiveSpeed+"ms ease-out, opacity "+p.adaptiveSpeed+"ms ease-in-out"}),window.requestAnimationFrame(l)},l=function(){t.css({transition:"transform "+p.adaptiveSpeed+"ms ease-out, opacity "+p.adaptiveSpeed+"ms ease-in-out"}).css({transform:"scale(1)",opacity:1}),t.one("transitionend",ke)};window.requestAnimationFrame(r);break;case"stack":var d=n(),c=((y=i(60))+90)/180*Math.PI,u=Math.min(d[0],d[1])/4;r=function(){t.css({transition:"all "+p.adaptiveSpeed+"ms ease-out, opacity "+p.adaptiveSpeed/2+"ms linear",opacity:0,transform:"scale(0.92)"}),a.css({transition:"all "+p.adaptiveSpeed/2+"ms ease-in, opacity "+p.adaptiveSpeed/2+"ms ease-in",opacity:1}),window.requestAnimationFrame(l)},l=function(){t.css({transform:"scale(1)",opacity:1}),t.one("transitionend",ke),a.one("transitionend",function(){e(this).remove()}).css({opacity:0,transform:"rotate("+(0-y/10)+"deg) translate("+Math.round(u*Math.cos(c))+"px,"+I*Math.round(0-u*Math.sin(c))+"px)"})},window.requestAnimationFrame(r);break;case"kenburns":var h,f,v,d=n(),C=t.children("img,video,audio,object").eq(0),w=t.children(".caption"),y=i(1)*Math.PI,u=(Math.random()+.2)*Math.min(d[0],d[1])*.08,T=Math.round(u*Math.cos(y)),x=Math.round(u*Math.sin(y)),F=k.width(),N=k.height(),r=function(){t.css({transition:"none",transform:"scale("+h+")  translate("+T+"px,"+x+"px)",opacity:0}),"top"!==m[1]&&"bottom"!==m[1]||(v=(d[1]-N/f)/2)>0&&w.css(m[1],v),"left"!==m[0]&&"right"!==m[0]||(v=(d[0]-F/f)/2)>0&&w.css(m[0],v),window.requestAnimationFrame(l)},l=function(){t.show().css({transition:"all "+p.adaptiveSpeed+"ms cubic-bezier(0.39, 0.575, 0.565, 1)",transform:"scale("+f+") translate(0,0)",opacity:1}),t.one("transitionend",ke),a.length&&a.css({transition:"all "+p.adaptiveSpeed+"ms cubic-bezier(0.47, 0, 0.745, 0.715)",transform:"scale("+a.data("sc")+") translate("+a.data("dx")+"px,"+a.data("dy")+"px)",opacity:0}).one("transitionend",function(){e(this).remove()})};"IMG"===C[0].nodeName?(h=1.14+i(.2),f=h>1.14?h-.1:h+.1):(h=1.1,f=1),t.data({sc:h>1.14?h-.2:h+.2,dx:-T,dy:-x}),window.requestAnimationFrame(r)}o.auto&&!V?(clearTimeout(X),oe(p.delay+p.speed),X=setTimeout(Fe,p.delay+p.speed)):(le(),o.hideControls&&g.hasClass(o.hideControlsClass)&&J()),Te(),S=A,s.children("."+o.currClass).removeClass(o.currClass),t.addClass(o.currClass),G()},Ce=function(e){var t=[];return"["===e[0]&&(e=e.slice(1,-1)),e.split(/,\s?/).forEach(function(e){(e=e.match(/(.+) \((\d+)x(\d+)\)/))&&e.length>3&&t.push([e[1],e[2],e[3]])}),t},we=function(e,t){var a=(t=typeof t===UNDEF?[n.width(),n.height()]:t)[0]*PIXELRATIO,o=t[1]*PIXELRATIO;return e&&e.length>1&&(WEBP_LOSSY||(e=e.filter(function(e){return!e[0].endsWith(".webp")})),e.forEach(function(e){var t=Math.min(a/e[1],o/e[2]);e[3]=t>1?3*(1-1/t):1-t}),e.sort(function(e,t){return e[3]-t[3]})),e[0][0]},ye=function(e,t){var a=e.data("vars");return a&&a.hasOwnProperty("imageRenditions")?o.slidesDir+"/"+we(a.imageRenditions,typeof t===UNDEF?[n.width(),n.height()]:t):e.attr("href")},be=function(e,t){var a=e.data("vars");return a?a.hasOwnProperty("thumbRenditions")?o.thumbsDir+"/"+we(a.thumbRenditions,typeof t===UNDEF?o.thumbDims:t):o.thumbsDir+"/"+a.thumb:e.attr("src")},ke=function(t){var a=typeof t!==UNDEF&&t.hasOwnProperty("target")?e(t.target).data("rel"):S;!function(e){K("video,audio",e)&&(o.videoAuto?function(e){var e=typeof e===UNDEF?S:e,t=ne(e),a=t.length?t.find("video,audio")[0]:null;a&&a.paused&&("VIDEO"===a.nodeName?playVideo(a):a.play())}(A):he(A))}(a),e(".map-root").trigger("setActive",a)},Te=function(){var e,t;if(I<0&&S>0?e=P.eq(S-1):S<P.length-2&&(e=P.eq(S+1)),e&&(t=ye(e))){(new Image).src=t}},xe=function(t){var a=new Date;if(g.hideAllTooltips(),!(t<0||t>=P.length||a-q<200)){if(A=t,I=function(e){e=typeof e===UNDEF?A:e;if(O){if(S===P.length-1&&0===e)return 1;if(!S&&e===P.length-1)return-1}return e===S?0:e>S?1:-1}(),p.adaptiveSpeed=Math.minMax(p.speed/5,a-q,p.speed),q=a,he(S),S!==A||s.is(":empty"))!function(){var t=e();window.requestAnimationFrame(function(){!function(a){var n,i,r,l,d,c,u,h,f,p,m,g,v,C=k.width()-2*o.fitPadding,w=k.height()-2*o.fitPadding,b=0,T=O?(a+P.length)%P.length:a;if((n=ne(T)).length||(n=e("<div>",{id:"card_"+a,"data-rel":T,class:o.cardClass})),T>=0&&T<P.length)if((l=n.children("img,video,object")).length)"VIDEO"===l[0].nodeName&&l[0].pause();else{if(r=P.eq(T),m=r.data("vars"),g=m.type,n.addClass(g),u=b=m.width,h=p=m.height,v=1,"full"===E&&m.hasOwnProperty("imageRenditions")){var x=m.imageRenditions;typeof x===STRING&&(x=Ce(x)),x.length&&(b=x[0][1],p=x[0][2],f=SLIDES_DIR+"/"+x[0][0])}else"none"===E||"other"===g?(b>C||p>w)&&(v=Math.min(C/b,w/p)):"fit"===E||"video"===g||"audio"===g?v=Math.min(o.maxScale,Math.min(C/b,w/p)):"fill"===E&&(v=Math.min(o.maxScale,Math.max(C/b,w/p))),b*=v,p*=v,f="image"===g?ye(r,[b,p]):m.original;switch(n.css({width:Math.round(b),height:Math.round(p),left:Math.round((C-b)/2)+o.fitPadding,top:Math.round((w-p)/2)+o.fitPadding}),g){case"image":l=e("<img>").attr({width:u,height:h,alt:r.find("img").attr("alt")||""}).one("load",function(t){e(this).addClass(o.loadedClass)}).attr("src",f).appendTo(n);break;case"video":l=e("<video>").one("loadedmetadata",function(t){e(this).addClass(o.loadedClass)}).attr({controls:!0,controlslist:"nodownload nofullscreen",disablePictureInPicture:!0,width:u,height:h,type:"video/mp4",src:f}).on("play",ce).on("pause",ue).on("ended",pe).appendTo(n);break;default:l=e("<img>").attr({width:u,height:h}).one("load",function(t){e(this).addClass(o.loadedClass)}).attr("src",m.thumb).appendTo(n)}if(c=e("<div>",{class:o.buttonsClass}),o.printImage&&"image"===g&&!o.rightClickProtect&&e("<a>",{class:"btn icon-printer",title:y.print}).on("click",function(e){return printImage(m.original&&o.showDownload?m.original:r.attr("href"),(m.original||r.attr("href")).getFile()||"",m.caption||""),!1}).appendTo(c),"other"===g||o.showDownload&&("image"===g||o.allowDownloadOthers)){var F=m.original;!F&&o.allowDownloadScaled&&(F=r.attr("href")),F&&e("<a>",{class:"btn icon-download",download:"",href:F,title:y.download}).appendTo(c)}m.photodata&&"video"!==g&&"audio"!==g&&e("<a>",{class:"btn icon-camera meta"}).appendTo(c).data("tooltip",'<div class="photodata">'+m.photodata+"</div>"),c.is(":empty")&&!m.caption||(d=e("<div>",{class:o.captionClass+" "+o.captionStyle+" "+o.captionPlacement}).appendTo(n),m.caption&&e(m.caption).addClass("text").appendTo(d),c.is(":empty")||(d.append(c),c.children().addTooltip({touchToggle:!0}))),o.rightClickProtect&&l.on("contextmenu",function(e){return e.preventDefault(),!1}),t=t.add(l)}else n.addClass("blank").show(),n.find("img").addClass(o.loadedClass);a===A?(i=ne(a+1)).length?i.before(n):(i=ne(a-1)).length?i.after(n):s.append(n):a<A?(i=ne(a+1)).length?i.before(n):s.prepend(n):(i=ne(a-1)).length?i.after(n):s.append(n)}(A),t.length?1===t.length?t.one("VIDEO"===t[0].nodeName?"loadedmetadata":"load",ve):t.waitAllImg(ve):ve()})}();else{ne(S).css({transition:"transform 300ms ease-out, opacity 300ms linear",transform:"translateX(0)",opacity:1})}!function(e){P.removeClass(o.activeClass).eq(typeof e!==UNDEF?e:S).addClass(o.activeClass)}(A),function(e){var t=P.eq(e),a=t.attr("href").getFile();addParam(o.indexName,{img:a},t.attr("title")||a.stripExt())}(A),o.showNumbers&&function(e){M.length&&M.html("<big>"+e+"</big><small>"+P.length+"</small>")}(A+1)}},Pe=function(){if(te(),o.autoHideControls&&J(),S)xe(S-1);else switch(le(),o.afterLast){case"donothing":le(),me();break;case"nextfolder":o.previousFoldersLast?window.location.href=o.previousFoldersLast:xe(0);break;case"startover":return void xe(P.length-1)}},Fe=function(){if(te(),o.autoHideControls&&J(),S<P.length-1)xe(S+1);else switch(o.afterLast){case"donothing":le(),me();break;case"startover":return void xe(0);case"onelevelup":le(),o.level&&(window.location.href="../"+o.indexName);break;case"nextfolder":t=o.auto;le(),o.nextFoldersFirst?window.location.href=o.nextFoldersFirst+(t?"&slideshow":""):xe(P.length-1);break;case"ask":var t=o.auto;le();var a=new Array;return P.length>1&&a.push({t:y.startOver,c:"icon-loop",h:function(){xe(0),o.auto=t,t&&(V=!1,requestWakeLock(),g.removeClass(o.pausedClass).addClass(o.playingClass),o.backgroundAudioSlideshowControl&&C.trigger("fadeInPlayer"))}}),o.level&&a.push({t:y.upOneLevel,c:"icon-one-level-up",h:function(){window.location.href="../"+o.indexName}}),o.nextFoldersFirst&&a.push({t:y.nextFolder,c:"icon-arrow-right",h:function(){window.location.href=o.nextFoldersFirst+(t?"&slideshow":"")}}),void g.modal(e("<p>",{class:"text-center",text:y.atLastPageQuestion}),a,{onClose:function(){xe(P.length-1)},class:"secondary",title:y.atLastPage})}};return function(){if(window.location.search&&removeSearch(),function(t){t.length&&(e.fn.audioPlayer.defaults.rootPath=o.rootPath,t.audioPlayer())}(C),o.hasOwnProperty("share")&&function(t){e.fn.renderShares.defaults.buttonTheme=t.buttonTheme||"dark",e.fn.renderShares.defaults.indexName=o.indexName,e.fn.renderShares.defaults.facebookAppId=t.facebookAppId||"",t.hasOwnProperty("callAction")&&(e.fn.renderShares.defaults.callAction=t.callAction),e(t.hook).renderShares(t)}(o.share),t.on("hashchange."+v,Q),window.location.hash){var i=window.location.hash.match(/img=([^&]+)/);i&&(-1!==(S=B(i[1]))?(U=!0,o.auto=!!window.location.hash.match(/\&slideshow$/)):S=0)}!function(){var t=null;o.showFullscreen&&(u=N.find(".fullscreen.btn"),h=N.find(".windowed.btn"),hasFullscreen()?(u.on("click."+v,function(){requestFullscreen(function(){g.addClass(o.fullscreenClass)})}),h.on("click."+v,function(){exitFullscreen(function(){g.removeClass(o.fullscreenClass)})})):(u.hide(),h.hide())),F.find(".nav-icon").on("click",function(){clearTimeout(t),F.hasClass("active")?(te(),F.addClass("remove").removeClass("active"),t=setTimeout(function(){F.removeClass("remove")},o.transTime),g.addClass(o.hideControlsClass)):(F.addClass("active").removeClass("remove"),g.removeClass(o.hideControlsClass))}),f=N.find(".pause>.progress"),F.add(N).find("[data-rel]").each(function(){var t=e(this);e("#"+t.data("rel")).length?t.addClass("has-panel").on("selectstart."+v,function(e){return e.preventDefault(),!1}).on("click."+v,function(t){if((!e(t.target).length||!e(t.target).attr("href"))&&F.hasClass("active")){var a=e(this),o=e("#"+a.data("rel"));return o.hasClass("on")?ee(o):(te(),function(e,t){var a=e[0].id,o=F.add(N).find("[data-rel="+a+"]:visible"),i=function(){e.one("transitionend",function(){e.data("finished")||(e.data("finished",!0),window.requestAnimationFrame(s))}).css({transition:"all 500ms ease-out",opacity:1,transform:"translateX(0)"})},s=function(){var n=o.data("autoclose");n&&e.add(o).on("mouseenter."+v,function(){e.data("over",!0),clearTimeout(e.data("fade"))}).on("mouseover."+v,function(){e.data("over",!0)}).on("mouseleave."+v,function(){clearTimeout(e.data("fade")),e.data("over",!0),e.data("fade",setTimeout(function(){e.data("over")||(clearTimeout(e.data("fade")),ee(e))},n))}),"thumbnails"===a&&ae(Y,Y),typeof t===FUNCTION&&t.call(null)};clearTimeout(e.data("fade")),window.requestAnimationFrame(function(){var t=o.position().top;o.add(e).addClass("on"),e.css({transition:"none",display:"flex",opacity:0,transform:"translateX(-16px)",maxHeight:n.outerHeight()-D.offset().top-t+"px"}),"thumbnails"===a?Y():e.css({top:t}),e.data("finished",!1),window.requestAnimationFrame(i)})}(o)),!1}return!0}):t.removeAttr("data-rel")})}(),T.length&&function(){var t,a,n=o.hasOwnProperty("markNew")?R-o.markNew.days*ONEDAY_S:null;P.each(function(o){e(this).data("rel",o).on("click",function(t){return"SPAN"!==t.target.nodeName&&(T.hideAllTooltips(),ee(T),xe(e(this).data("rel"))),!1}),"mouse"===whatInput.ask("intent")&&e(this).addTooltip(),n&&(t=e(this).data("vars").date)&&t>=n&&(a=e("<span>",{class:"icon-new new-image"}).appendTo(e(this)),"mouse"===whatInput.ask("intent")&&a.data("tooltip",new Date(1e3*t).toLocaleDateString()).addTooltip())}),o.rightClickProtect&&x.on("contextmenu","img",function(e){return e.preventDefault(),!1}),x.on("scroll."+v,function(){clearTimeout(H),H=setTimeout(ae,100)})}(),o.hasOwnProperty("map")&&o.hasOwnProperty("map")&&(e(".map-root").addMap({markers:function(){var t=[];return P.each(function(a){var n=e(this).data("vars");typeof n!==UNDEF&&n.hasOwnProperty("location")&&t.push({title:[a+1+".",e(this).attr("title")].join(" "),pos:n.location,link:a})}),t}(),type:o.map.type||"roadmap",zoom:o.map.zoom||16,apiKey:o.map.apiKey,fitBounds:!0,fullscreenControl:!1,onMarkerClick:function(){this.hasOwnProperty("link")&&xe(this.link)}}),e("#map-btn").on("click",function(){e(".map-root").data("rendered")||setTimeout(function(t){t.hasClass("on")&&e(".map-root").trigger("render")},20,e(this))})),k.length&&(function(){if(k.data("settings")&&e.extend(setting,k.data("settings")),(s=k.find("."+o.cardsClass)).length||(s=e("<div>",{class:o.cardsClass}).appendTo(k)),m=o.captionPlacement.split(" "),p=o.defaults[o.transitionType||"kenburns"],o.hasOwnProperty("transitionSpeed")&&(p.speed=o.transitionSpeed),o.hasOwnProperty("slideshowDelay")&&(p.delay=o.slideshowDelay),o.hasOwnProperty("fillHorz")&&(p.fillHorz=o.fillHorz/100),o.hasOwnProperty("fillVert")&&(p.fillVert=o.fillVert/100),O="startover"===o.afterLast,1===P.length?p.after=p.before=0:(p.after=Math.min(p.after,Math.ceil(P.length/2)),p.before=Math.min(p.before,Math.floor(P.length/2))),o.enableMouseWheel){var n=null;k.on("mousewheel."+v+" DOMMouseScroll."+v,function(e){return n=clearTimeout(n),n=setTimeout(e.originalEvent.wheelDelta>0||e.originalEvent.detail<0?Pe:Fe,100),!1})}P.length>1&&((r=N.find(".previous")).on("click."+v,Pe),(d=N.find(".play")).on("click."+v,se),(c=N.find(".pause")).on("click."+v,le),(l=N.find(".next")).on("click."+v,Fe)),"mouse"===whatInput.ask("intent")&&e("#lbcontrols [data-tooltip]").addTooltip({delay:1e3,stay:2e3,pos:[1,2,1,0]}),o.enableKeyboard&&a.on("keyup."+v,function(e){if(!g.length||k.children(".modal:visible").length||document.activeElement&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName))return!0;switch(e.preventDefault(),e.keyCode){case 10:case 13:ee(T);break;case 33:case 37:Pe();break;case 34:case 39:Fe();break;case 97:case 35:xe(P.length-1);break;case 103:case 36:xe(0);break;case 106:case 179:X?le():se();break;case 32:K("video,audio")?fe():X?le():se();break;default:return!0}return!1}),t.on("resize."+v,function(){clearTimeout(z),z=setTimeout(ge,100)})}(),xe(S)),"mouse"===whatInput.ask("intent")&&e("#controls [data-tooltip]").addTooltip({delay:1e3,stay:2e3,pos:[0,1,2,1]}),o.auto&&k.length&&P.length>1&&se()}(),this},e.fn.skin.defaults={activeClass:"active",lazyloadClass:"lazyload",thumbsDir:"thumbs",slidesDir:"slides",indexName:"index.html",cardsClass:"cards",cardClass:"card",currClass:"curr",prevClass:"prev",nextClass:"next",loadedClass:"loaded",captionClass:"caption",buttonsClass:"buttons",hideImageClass:"hide-image",showImageClass:"show-image",fullscreenClass:"fullscreen",hideControlsClass:"hide-controls",playingClass:"playing",pausedClass:"paused",transTime:500,clickForNext:!0,backgroundAudioSlideshowControl:!1,muteBackgroundAudio:!0,slideshowFullscreen:!0,videoAuto:!1,videoLoop:!1,volume:.5,auto:!1,afterLast:"donothing",clickAction:"donothing",doubleClickZoom:!0,rightClickProtect:!1,allowDownloadOthers:!1,autoHideControls:!1,hideControlsDelay:0,showNumbers:!0,transitionType:"kenburns",captionStyle:"dark",captionPlacement:"center bottom",showFullscreen:!0,enableKeyboard:!0,enableMouseWheel:!0,scaling:"fit",maxScale:1.4,fitPadding:0,defaults:{kenburns:{before:1,after:0,delay:0,speed:4e3},crossfade:{before:1,after:0,delay:1e3,speed:2e3},zoom:{before:1,after:0,delay:1e3,speed:2e3},stack:{before:1,after:0,delay:1e3,speed:2e3}},fit:"both"}}(jQuery,jQuery(window),jQuery(document),jQuery("body"));
